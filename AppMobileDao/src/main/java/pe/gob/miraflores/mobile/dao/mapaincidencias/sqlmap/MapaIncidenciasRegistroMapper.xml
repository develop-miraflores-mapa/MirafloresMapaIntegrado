<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="pe.gob.miraflores.mobile.dao.mapaincidencias.MapaIncidenciasRegistroMapper">
  <resultMap id="BaseResultMap" type="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistro">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jul 07 21:46:28 COT 2017.
    -->
    <id column="id_incidencia" jdbcType="INTEGER" property="idIncidencia" />
    <result column="id_evento" jdbcType="INTEGER" property="idEvento" />
    <result column="tipo_evento" jdbcType="INTEGER" property="tipoEvento" />
    <result column="sub_tipo" jdbcType="INTEGER" property="subTipo" />
    <result column="fec_hora_inicio" jdbcType="TIMESTAMP" property="fecHoraInicio" />
    <result column="fec_hora_fin" jdbcType="TIMESTAMP" property="fecHoraFin" />
    <result column="descripcion" jdbcType="VARCHAR" property="descripcion" />
    <result column="severidad" jdbcType="VARCHAR" property="severidad" />
    <result column="calle" jdbcType="VARCHAR" property="calle" />
    <result column="tipo_direccion" jdbcType="INTEGER" property="tipoDireccion" />
    <result column="direccion_final" jdbcType="VARCHAR" property="direccionFinal" />
    <result column="nombre_calle_inicio" jdbcType="VARCHAR" property="nombreCalleInicio" />
    <result column="nombre_calle_fin" jdbcType="VARCHAR" property="nombreCalleFin" />
    <result column="fec_registra" jdbcType="TIMESTAMP" property="fecRegistra" />
    <result column="fec_modifica" jdbcType="TIMESTAMP" property="fecModifica" />
    <result column="des_usu_registra" jdbcType="VARCHAR" property="desUsuRegistra" />
    <result column="des_usu_modifica" jdbcType="VARCHAR" property="desUsuModifica" />
    <result column="des_ip_registra" jdbcType="VARCHAR" property="desIpRegistra" />
    <result column="des_ip_modifica" jdbcType="VARCHAR" property="desIpModifica" />
    <result column="id_tipo_via" jdbcType="INTEGER" property="idTipoVia" />
    <result column="cuadra_evento" jdbcType="INTEGER" property="cuadraEvento" />
    <result column="id_via" jdbcType="INTEGER" property="idVia" />
    <result column="id_caso_voxiva" jdbcType="INTEGER" property="idCasoVoxiva" />
    <result column="tipo_caso_voxiva" jdbcType="INTEGER" property="tipoCasoVoxiva" />
    <result column="sub_tipo_caso_voxiva" jdbcType="INTEGER" property="subTipoCasoVoxiva" />
    <result column="tipo_incidencia" jdbcType="INTEGER" property="tipoIncidencia" />
    <result column="id_via_catastro" jdbcType="INTEGER" property="idViaCatastro" />
    <result column="id_tipo_via_catastro" jdbcType="INTEGER" property="idTipoViaCatastro" />
    <result column="estado" jdbcType="VARCHAR" property="estado" />
    <result column="tipo_cierre" jdbcType="VARCHAR" property="tipoCierre" />
    <result column="des_callles" jdbcType="VARCHAR" property="desCallles" />
    <result column="usuario_registro" jdbcType="INTEGER" property="usuarioRegistro" />
    <result column="usuario_modifica" jdbcType="INTEGER" property="usuarioModifica" />
    <result column="visible" jdbcType="VARCHAR" property="visible" />
    <result column="id_dispositivo" jdbcType="VARCHAR" property="idDispositivo" />
    <result column="hora_llamada_voxiva" jdbcType="VARCHAR" property="horaLlamadaVoxiva" />
    <result column="nombre_reporta_incidencia" jdbcType="VARCHAR" property="nombreReportaIncidencia" />
    <result column="direccion_incidencia" jdbcType="VARCHAR" property="direccionIncidencia" />
    <result column="acciones_incidencia" jdbcType="VARCHAR" property="accionesIncidencia" />
    <result column="nombre_recepciona_incidencia" jdbcType="VARCHAR" property="nombreRecepcionaIncidencia" />
    <result column="dni_recepciona_incidencia" jdbcType="VARCHAR" property="dniRecepcionaIncidencia" />
    <result column="nro_caso_voxiva" jdbcType="VARCHAR" property="nroCasoVoxiva" />
    <result column="telef_reporta_incidencia" jdbcType="VARCHAR" property="telefReportaIncidencia" />
    <result column="incidencia_presentada" jdbcType="VARCHAR" property="incidenciaPresentada" />
    <result column="medio_ingreso" jdbcType="INTEGER" property="medioIngreso" />
    <result column="estado_calif_voxiva" jdbcType="VARCHAR" property="estadoCalifVoxiva" />
    <result column="estado_voxiva" jdbcType="VARCHAR" property="estadoVoxiva" />
    <result column="des_estado_voxiva" jdbcType="VARCHAR" property="desEstadoVoxiva" />
    <result column="sub_estado_voxiva" jdbcType="VARCHAR" property="subEstadoVoxiva" />
    <result column="des_sub_estado_voxiva" jdbcType="VARCHAR" property="desSubEstadoVoxiva" />
    <result column="des_estado_calif_voxiva" jdbcType="VARCHAR" property="desEstadoCalifVoxiva" />
    <result column="unid_interv_voxiva" jdbcType="VARCHAR" property="unidIntervVoxiva" />
    <result column="des_unid_interv_voxiva" jdbcType="VARCHAR" property="desUnidIntervVoxiva" />
    <result column="importante_voxiva" jdbcType="VARCHAR" property="importanteVoxiva" />
    <result column="llamada_devuelta_voxiva" jdbcType="VARCHAR" property="llamadaDevueltaVoxiva" />
    <result column="fecha_hora_atencion_voxiva" jdbcType="VARCHAR" property="fechaHoraAtencionVoxiva" />
    <result column="ind_leido" jdbcType="VARCHAR" property="indLeido" />
    <result column="cod_unidad" jdbcType="INTEGER" property="codUnidad" />
    <result column="cod_caso" jdbcType="INTEGER" property="codCaso" />
    <result column="cod_subcaso" jdbcType="INTEGER" property="codSubcaso" />
    <result column="cod_medio" jdbcType="INTEGER" property="codMedio" />
    <result column="cod_situacion" jdbcType="INTEGER" property="codSituacion" />
    <result column="nomb_report" jdbcType="VARCHAR" property="nombReport" />
    <result column="telf_report" jdbcType="VARCHAR" property="telfReport" />
    <result column="cod_geometria" jdbcType="INTEGER" property="codGeometria" />
    <result column="coordenadas" jdbcType="VARCHAR" property="coordenadas" />
    <result column="direccion" jdbcType="VARCHAR" property="direccion" />
    <result column="cdra" jdbcType="INTEGER" property="cdra" />
    <result column="dpto" jdbcType="VARCHAR" property="dpto" />
    <result column="zona" jdbcType="VARCHAR" property="zona" />
    <result column="subzona" jdbcType="VARCHAR" property="subzona" />
    <result column="descripcion2" jdbcType="VARCHAR" property="descripcion2" />
    <result column="fec_evento" jdbcType="DATE" property="fecEvento" />
    <result column="hor_evento" jdbcType="VARCHAR" property="horEvento" />
    <result column="fec_atencion" jdbcType="DATE" property="fecAtencion" />
    <result column="hor_atencion" jdbcType="VARCHAR" property="horAtencion" />
    <result column="cod_severidad" jdbcType="INTEGER" property="codSeveridad" />
    <result column="cod_estado" jdbcType="INTEGER" property="codEstado" />
    <result column="cod_subestado" jdbcType="INTEGER" property="codSubestado" />
    <result column="cod_modalidad" jdbcType="INTEGER" property="codModalidad" />
    <result column="motivo" jdbcType="VARCHAR" property="motivo" />
    <result column="tpo_hallazgo" jdbcType="INTEGER" property="tpoHallazgo" />
    <result column="desc_sospechoso" jdbcType="VARCHAR" property="descSospechoso" />
    <result column="est_reg" jdbcType="VARCHAR" property="estReg" />
    <result column="fec_creacion" jdbcType="TIMESTAMP" property="fecCreacion" />
    <result column="fec_cierre" jdbcType="TIMESTAMP" property="fecCierre" />
  </resultMap>
  <sql id="Example_Where_Clause">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jul 07 21:46:28 COT 2017.
    -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jul 07 21:46:28 COT 2017.
    -->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jul 07 21:46:28 COT 2017.
    -->
    id_incidencia, id_evento, tipo_evento, sub_tipo, fec_hora_inicio, fec_hora_fin, descripcion, 
    severidad, calle, tipo_direccion, direccion_final, nombre_calle_inicio, nombre_calle_fin, 
    fec_registra, fec_modifica, des_usu_registra, des_usu_modifica, des_ip_registra, 
    des_ip_modifica, id_tipo_via, cuadra_evento, id_via, id_caso_voxiva, tipo_caso_voxiva, 
    sub_tipo_caso_voxiva, tipo_incidencia, id_via_catastro, id_tipo_via_catastro, estado, 
    tipo_cierre, des_callles, usuario_registro, usuario_modifica, visible, id_dispositivo, 
    hora_llamada_voxiva, nombre_reporta_incidencia, direccion_incidencia, acciones_incidencia, 
    nombre_recepciona_incidencia, dni_recepciona_incidencia, nro_caso_voxiva, telef_reporta_incidencia, 
    incidencia_presentada, medio_ingreso, estado_calif_voxiva, estado_voxiva, des_estado_voxiva, 
    sub_estado_voxiva, des_sub_estado_voxiva, des_estado_calif_voxiva, unid_interv_voxiva, 
    des_unid_interv_voxiva, importante_voxiva, llamada_devuelta_voxiva, fecha_hora_atencion_voxiva, 
    ind_leido, cod_unidad, cod_caso, cod_subcaso, cod_medio, cod_situacion, nomb_report, 
    telf_report, cod_geometria, coordenadas, direccion, cdra, dpto, zona, subzona, descripcion2, 
    fec_evento, hor_evento, fec_atencion, hor_atencion, cod_severidad, cod_estado, cod_subestado, 
    cod_modalidad, motivo, tpo_hallazgo, desc_sospechoso, est_reg, fec_creacion, fec_cierre
  </sql>
  <select id="selectByExample" parameterType="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistroCriteria" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jul 07 21:46:28 COT 2017.
    -->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    from mapa.geo_incidencia_map
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jul 07 21:46:28 COT 2017.
    -->
    select 
    <include refid="Base_Column_List" />
    from mapa.geo_incidencia_map
    where id_incidencia = #{idIncidencia,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jul 07 21:46:28 COT 2017.
    -->
    delete from mapa.geo_incidencia_map
    where id_incidencia = #{idIncidencia,jdbcType=INTEGER}
  </delete>
  <delete id="deleteByExample" parameterType="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistroCriteria">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jul 07 21:46:28 COT 2017.
    -->
    delete from mapa.geo_incidencia_map
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistro">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jul 07 21:46:28 COT 2017.
    -->
    insert into mapa.geo_incidencia_map (id_incidencia, id_evento, tipo_evento, 
      sub_tipo, fec_hora_inicio, fec_hora_fin, 
      descripcion, severidad, calle, 
      tipo_direccion, direccion_final, nombre_calle_inicio, 
      nombre_calle_fin, fec_registra, fec_modifica, 
      des_usu_registra, des_usu_modifica, des_ip_registra, 
      des_ip_modifica, id_tipo_via, cuadra_evento, 
      id_via, id_caso_voxiva, tipo_caso_voxiva, 
      sub_tipo_caso_voxiva, tipo_incidencia, id_via_catastro, 
      id_tipo_via_catastro, estado, tipo_cierre, 
      des_callles, usuario_registro, usuario_modifica, 
      visible, id_dispositivo, hora_llamada_voxiva, 
      nombre_reporta_incidencia, direccion_incidencia, 
      acciones_incidencia, nombre_recepciona_incidencia, 
      dni_recepciona_incidencia, nro_caso_voxiva, 
      telef_reporta_incidencia, incidencia_presentada, 
      medio_ingreso, estado_calif_voxiva, estado_voxiva, 
      des_estado_voxiva, sub_estado_voxiva, des_sub_estado_voxiva, 
      des_estado_calif_voxiva, unid_interv_voxiva, 
      des_unid_interv_voxiva, importante_voxiva, 
      llamada_devuelta_voxiva, fecha_hora_atencion_voxiva, 
      ind_leido, cod_unidad, cod_caso, 
      cod_subcaso, cod_medio, cod_situacion, 
      nomb_report, telf_report, cod_geometria, 
      coordenadas, direccion, cdra, 
      dpto, zona, subzona, 
      descripcion2, fec_evento, hor_evento, 
      fec_atencion, hor_atencion, cod_severidad, 
      cod_estado, cod_subestado, cod_modalidad, 
      motivo, tpo_hallazgo, desc_sospechoso, 
      est_reg, fec_creacion, fec_cierre
      )
    values (#{idIncidencia,jdbcType=INTEGER}, #{idEvento,jdbcType=INTEGER}, #{tipoEvento,jdbcType=INTEGER}, 
      #{subTipo,jdbcType=INTEGER}, #{fecHoraInicio,jdbcType=TIMESTAMP}, #{fecHoraFin,jdbcType=TIMESTAMP}, 
      #{descripcion,jdbcType=VARCHAR}, #{severidad,jdbcType=VARCHAR}, #{calle,jdbcType=VARCHAR}, 
      #{tipoDireccion,jdbcType=INTEGER}, #{direccionFinal,jdbcType=VARCHAR}, #{nombreCalleInicio,jdbcType=VARCHAR}, 
      #{nombreCalleFin,jdbcType=VARCHAR}, #{fecRegistra,jdbcType=TIMESTAMP}, #{fecModifica,jdbcType=TIMESTAMP}, 
      #{desUsuRegistra,jdbcType=VARCHAR}, #{desUsuModifica,jdbcType=VARCHAR}, #{desIpRegistra,jdbcType=VARCHAR}, 
      #{desIpModifica,jdbcType=VARCHAR}, #{idTipoVia,jdbcType=INTEGER}, #{cuadraEvento,jdbcType=INTEGER}, 
      #{idVia,jdbcType=INTEGER}, #{idCasoVoxiva,jdbcType=INTEGER}, #{tipoCasoVoxiva,jdbcType=INTEGER}, 
      #{subTipoCasoVoxiva,jdbcType=INTEGER}, #{tipoIncidencia,jdbcType=INTEGER}, #{idViaCatastro,jdbcType=INTEGER}, 
      #{idTipoViaCatastro,jdbcType=INTEGER}, #{estado,jdbcType=VARCHAR}, #{tipoCierre,jdbcType=VARCHAR}, 
      #{desCallles,jdbcType=VARCHAR}, #{usuarioRegistro,jdbcType=INTEGER}, #{usuarioModifica,jdbcType=INTEGER}, 
      #{visible,jdbcType=VARCHAR}, #{idDispositivo,jdbcType=VARCHAR}, #{horaLlamadaVoxiva,jdbcType=VARCHAR}, 
      #{nombreReportaIncidencia,jdbcType=VARCHAR}, #{direccionIncidencia,jdbcType=VARCHAR}, 
      #{accionesIncidencia,jdbcType=VARCHAR}, #{nombreRecepcionaIncidencia,jdbcType=VARCHAR}, 
      #{dniRecepcionaIncidencia,jdbcType=VARCHAR}, #{nroCasoVoxiva,jdbcType=VARCHAR}, 
      #{telefReportaIncidencia,jdbcType=VARCHAR}, #{incidenciaPresentada,jdbcType=VARCHAR}, 
      #{medioIngreso,jdbcType=INTEGER}, #{estadoCalifVoxiva,jdbcType=VARCHAR}, #{estadoVoxiva,jdbcType=VARCHAR}, 
      #{desEstadoVoxiva,jdbcType=VARCHAR}, #{subEstadoVoxiva,jdbcType=VARCHAR}, #{desSubEstadoVoxiva,jdbcType=VARCHAR}, 
      #{desEstadoCalifVoxiva,jdbcType=VARCHAR}, #{unidIntervVoxiva,jdbcType=VARCHAR}, 
      #{desUnidIntervVoxiva,jdbcType=VARCHAR}, #{importanteVoxiva,jdbcType=VARCHAR}, 
      #{llamadaDevueltaVoxiva,jdbcType=VARCHAR}, #{fechaHoraAtencionVoxiva,jdbcType=VARCHAR}, 
      #{indLeido,jdbcType=VARCHAR}, #{codUnidad,jdbcType=INTEGER}, #{codCaso,jdbcType=INTEGER}, 
      #{codSubcaso,jdbcType=INTEGER}, #{codMedio,jdbcType=INTEGER}, #{codSituacion,jdbcType=INTEGER}, 
      #{nombReport,jdbcType=VARCHAR}, #{telfReport,jdbcType=VARCHAR}, #{codGeometria,jdbcType=INTEGER}, 
      #{coordenadas,jdbcType=VARCHAR}, #{direccion,jdbcType=VARCHAR}, #{cdra,jdbcType=INTEGER}, 
      #{dpto,jdbcType=VARCHAR}, #{zona,jdbcType=VARCHAR}, #{subzona,jdbcType=VARCHAR}, 
      #{descripcion2,jdbcType=VARCHAR}, #{fecEvento,jdbcType=DATE}, #{horEvento,jdbcType=VARCHAR}, 
      #{fecAtencion,jdbcType=DATE}, #{horAtencion,jdbcType=VARCHAR}, #{codSeveridad,jdbcType=INTEGER}, 
      #{codEstado,jdbcType=INTEGER}, #{codSubestado,jdbcType=INTEGER}, #{codModalidad,jdbcType=INTEGER}, 
      #{motivo,jdbcType=VARCHAR}, #{tpoHallazgo,jdbcType=INTEGER}, #{descSospechoso,jdbcType=VARCHAR}, 
      #{estReg,jdbcType=VARCHAR}, #{fecCreacion,jdbcType=TIMESTAMP}, #{fecCierre,jdbcType=TIMESTAMP}
      )
  </insert>
  <insert id="insertSelective" parameterType="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistro">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jul 07 21:46:28 COT 2017.
    -->
    
    <selectKey keyProperty="idIncidencia" resultType="int" order="BEFORE" >
		select (case when max(id_incidencia) is null then 1 else max(id_incidencia)+1 end) as value from mapa.geo_incidencia_map  
	</selectKey>
	
    insert into mapa.geo_incidencia_map
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="idIncidencia != null">
        id_incidencia,
      </if>
      <if test="idEvento != null">
        id_evento,
      </if>
      <if test="tipoEvento != null">
        tipo_evento,
      </if>
      <if test="subTipo != null">
        sub_tipo,
      </if>
      <if test="fecHoraInicio != null">
        fec_hora_inicio,
      </if>
      <if test="fecHoraFin != null">
        fec_hora_fin,
      </if>
      <if test="descripcion != null">
        descripcion,
      </if>
      <if test="severidad != null">
        severidad,
      </if>
      <if test="calle != null">
        calle,
      </if>
      <if test="tipoDireccion != null">
        tipo_direccion,
      </if>
      <if test="direccionFinal != null">
        direccion_final,
      </if>
      <if test="nombreCalleInicio != null">
        nombre_calle_inicio,
      </if>
      <if test="nombreCalleFin != null">
        nombre_calle_fin,
      </if>
      <if test="fecRegistra != null">
        fec_registra,
      </if>
      <if test="fecModifica != null">
        fec_modifica,
      </if>
      <if test="desUsuRegistra != null">
        des_usu_registra,
      </if>
      <if test="desUsuModifica != null">
        des_usu_modifica,
      </if>
      <if test="desIpRegistra != null">
        des_ip_registra,
      </if>
      <if test="desIpModifica != null">
        des_ip_modifica,
      </if>
      <if test="idTipoVia != null">
        id_tipo_via,
      </if>
      <if test="cuadraEvento != null">
        cuadra_evento,
      </if>
      <if test="idVia != null">
        id_via,
      </if>
      <if test="idCasoVoxiva != null">
        id_caso_voxiva,
      </if>
      <if test="tipoCasoVoxiva != null">
        tipo_caso_voxiva,
      </if>
      <if test="subTipoCasoVoxiva != null">
        sub_tipo_caso_voxiva,
      </if>
      <if test="tipoIncidencia != null">
        tipo_incidencia,
      </if>
      <if test="idViaCatastro != null">
        id_via_catastro,
      </if>
      <if test="idTipoViaCatastro != null">
        id_tipo_via_catastro,
      </if>
      <if test="estado != null">
        estado,
      </if>
      <if test="tipoCierre != null">
        tipo_cierre,
      </if>
      <if test="desCallles != null">
        des_callles,
      </if>
      <if test="usuarioRegistro != null">
        usuario_registro,
      </if>
      <if test="usuarioModifica != null">
        usuario_modifica,
      </if>
      <if test="visible != null">
        visible,
      </if>
      <if test="idDispositivo != null">
        id_dispositivo,
      </if>
      <if test="horaLlamadaVoxiva != null">
        hora_llamada_voxiva,
      </if>
      <if test="nombreReportaIncidencia != null">
        nombre_reporta_incidencia,
      </if>
      <if test="direccionIncidencia != null">
        direccion_incidencia,
      </if>
      <if test="accionesIncidencia != null">
        acciones_incidencia,
      </if>
      <if test="nombreRecepcionaIncidencia != null">
        nombre_recepciona_incidencia,
      </if>
      <if test="dniRecepcionaIncidencia != null">
        dni_recepciona_incidencia,
      </if>
      <if test="nroCasoVoxiva != null">
        nro_caso_voxiva,
      </if>
      <if test="telefReportaIncidencia != null">
        telef_reporta_incidencia,
      </if>
      <if test="incidenciaPresentada != null">
        incidencia_presentada,
      </if>
      <if test="medioIngreso != null">
        medio_ingreso,
      </if>
      <if test="estadoCalifVoxiva != null">
        estado_calif_voxiva,
      </if>
      <if test="estadoVoxiva != null">
        estado_voxiva,
      </if>
      <if test="desEstadoVoxiva != null">
        des_estado_voxiva,
      </if>
      <if test="subEstadoVoxiva != null">
        sub_estado_voxiva,
      </if>
      <if test="desSubEstadoVoxiva != null">
        des_sub_estado_voxiva,
      </if>
      <if test="desEstadoCalifVoxiva != null">
        des_estado_calif_voxiva,
      </if>
      <if test="unidIntervVoxiva != null">
        unid_interv_voxiva,
      </if>
      <if test="desUnidIntervVoxiva != null">
        des_unid_interv_voxiva,
      </if>
      <if test="importanteVoxiva != null">
        importante_voxiva,
      </if>
      <if test="llamadaDevueltaVoxiva != null">
        llamada_devuelta_voxiva,
      </if>
      <if test="fechaHoraAtencionVoxiva != null">
        fecha_hora_atencion_voxiva,
      </if>
      <if test="indLeido != null">
        ind_leido,
      </if>
      <if test="codUnidad != null">
        cod_unidad,
      </if>
      <if test="codCaso != null">
        cod_caso,
      </if>
      <if test="codSubcaso != null">
        cod_subcaso,
      </if>
      <if test="codMedio != null">
        cod_medio,
      </if>
      <if test="codSituacion != null">
        cod_situacion,
      </if>
      <if test="nombReport != null">
        nomb_report,
      </if>
      <if test="telfReport != null">
        telf_report,
      </if>
      <if test="codGeometria != null">
        cod_geometria,
      </if>
      <if test="coordenadas != null">
        coordenadas,
      </if>
      <if test="direccion != null">
        direccion,
      </if>
      <if test="cdra != null">
        cdra,
      </if>
      <if test="dpto != null">
        dpto,
      </if>
      <if test="zona != null">
        zona,
      </if>
      <if test="subzona != null">
        subzona,
      </if>
      <if test="descripcion2 != null">
        descripcion2,
      </if>
      <if test="fecEvento != null">
        fec_evento,
      </if>
      <if test="horEvento != null">
        hor_evento,
      </if>
      <if test="fecAtencion != null">
        fec_atencion,
      </if>
      <if test="horAtencion != null">
        hor_atencion,
      </if>
      <if test="codSeveridad != null">
        cod_severidad,
      </if>
      <if test="codEstado != null">
        cod_estado,
      </if>
      <if test="codSubestado != null">
        cod_subestado,
      </if>
      <if test="codModalidad != null">
        cod_modalidad,
      </if>
      <if test="motivo != null">
        motivo,
      </if>
      <if test="tpoHallazgo != null">
        tpo_hallazgo,
      </if>
      <if test="descSospechoso != null">
        desc_sospechoso,
      </if>
      <if test="estReg != null">
        est_reg,
      </if>
      <if test="fecCreacion != null">
        fec_creacion,
      </if>
      <if test="fecCierre != null">
        fec_cierre,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="idIncidencia != null">
        #{idIncidencia,jdbcType=INTEGER},
      </if>
      <if test="idEvento != null">
        #{idEvento,jdbcType=INTEGER},
      </if>
      <if test="tipoEvento != null">
        #{tipoEvento,jdbcType=INTEGER},
      </if>
      <if test="subTipo != null">
        #{subTipo,jdbcType=INTEGER},
      </if>
      <if test="fecHoraInicio != null">
        #{fecHoraInicio,jdbcType=TIMESTAMP},
      </if>
      <if test="fecHoraFin != null">
        #{fecHoraFin,jdbcType=TIMESTAMP},
      </if>
      <if test="descripcion != null">
        #{descripcion,jdbcType=VARCHAR},
      </if>
      <if test="severidad != null">
        #{severidad,jdbcType=VARCHAR},
      </if>
      <if test="calle != null">
        #{calle,jdbcType=VARCHAR},
      </if>
      <if test="tipoDireccion != null">
        #{tipoDireccion,jdbcType=INTEGER},
      </if>
      <if test="direccionFinal != null">
        #{direccionFinal,jdbcType=VARCHAR},
      </if>
      <if test="nombreCalleInicio != null">
        #{nombreCalleInicio,jdbcType=VARCHAR},
      </if>
      <if test="nombreCalleFin != null">
        #{nombreCalleFin,jdbcType=VARCHAR},
      </if>
      <if test="fecRegistra != null">
        #{fecRegistra,jdbcType=TIMESTAMP},
      </if>
      <if test="fecModifica != null">
        #{fecModifica,jdbcType=TIMESTAMP},
      </if>
      <if test="desUsuRegistra != null">
        #{desUsuRegistra,jdbcType=VARCHAR},
      </if>
      <if test="desUsuModifica != null">
        #{desUsuModifica,jdbcType=VARCHAR},
      </if>
      <if test="desIpRegistra != null">
        #{desIpRegistra,jdbcType=VARCHAR},
      </if>
      <if test="desIpModifica != null">
        #{desIpModifica,jdbcType=VARCHAR},
      </if>
      <if test="idTipoVia != null">
        #{idTipoVia,jdbcType=INTEGER},
      </if>
      <if test="cuadraEvento != null">
        #{cuadraEvento,jdbcType=INTEGER},
      </if>
      <if test="idVia != null">
        #{idVia,jdbcType=INTEGER},
      </if>
      <if test="idCasoVoxiva != null">
        #{idCasoVoxiva,jdbcType=INTEGER},
      </if>
      <if test="tipoCasoVoxiva != null">
        #{tipoCasoVoxiva,jdbcType=INTEGER},
      </if>
      <if test="subTipoCasoVoxiva != null">
        #{subTipoCasoVoxiva,jdbcType=INTEGER},
      </if>
      <if test="tipoIncidencia != null">
        #{tipoIncidencia,jdbcType=INTEGER},
      </if>
      <if test="idViaCatastro != null">
        #{idViaCatastro,jdbcType=INTEGER},
      </if>
      <if test="idTipoViaCatastro != null">
        #{idTipoViaCatastro,jdbcType=INTEGER},
      </if>
      <if test="estado != null">
        #{estado,jdbcType=VARCHAR},
      </if>
      <if test="tipoCierre != null">
        #{tipoCierre,jdbcType=VARCHAR},
      </if>
      <if test="desCallles != null">
        #{desCallles,jdbcType=VARCHAR},
      </if>
      <if test="usuarioRegistro != null">
        #{usuarioRegistro,jdbcType=INTEGER},
      </if>
      <if test="usuarioModifica != null">
        #{usuarioModifica,jdbcType=INTEGER},
      </if>
      <if test="visible != null">
        #{visible,jdbcType=VARCHAR},
      </if>
      <if test="idDispositivo != null">
        #{idDispositivo,jdbcType=VARCHAR},
      </if>
      <if test="horaLlamadaVoxiva != null">
        #{horaLlamadaVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="nombreReportaIncidencia != null">
        #{nombreReportaIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="direccionIncidencia != null">
        #{direccionIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="accionesIncidencia != null">
        #{accionesIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="nombreRecepcionaIncidencia != null">
        #{nombreRecepcionaIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="dniRecepcionaIncidencia != null">
        #{dniRecepcionaIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="nroCasoVoxiva != null">
        #{nroCasoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="telefReportaIncidencia != null">
        #{telefReportaIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="incidenciaPresentada != null">
        #{incidenciaPresentada,jdbcType=VARCHAR},
      </if>
      <if test="medioIngreso != null">
        #{medioIngreso,jdbcType=INTEGER},
      </if>
      <if test="estadoCalifVoxiva != null">
        #{estadoCalifVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="estadoVoxiva != null">
        #{estadoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="desEstadoVoxiva != null">
        #{desEstadoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="subEstadoVoxiva != null">
        #{subEstadoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="desSubEstadoVoxiva != null">
        #{desSubEstadoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="desEstadoCalifVoxiva != null">
        #{desEstadoCalifVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="unidIntervVoxiva != null">
        #{unidIntervVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="desUnidIntervVoxiva != null">
        #{desUnidIntervVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="importanteVoxiva != null">
        #{importanteVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="llamadaDevueltaVoxiva != null">
        #{llamadaDevueltaVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="fechaHoraAtencionVoxiva != null">
        #{fechaHoraAtencionVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="indLeido != null">
        #{indLeido,jdbcType=VARCHAR},
      </if>
      <if test="codUnidad != null">
        #{codUnidad,jdbcType=INTEGER},
      </if>
      <if test="codCaso != null">
        #{codCaso,jdbcType=INTEGER},
      </if>
      <if test="codSubcaso != null">
        #{codSubcaso,jdbcType=INTEGER},
      </if>
      <if test="codMedio != null">
        #{codMedio,jdbcType=INTEGER},
      </if>
      <if test="codSituacion != null">
        #{codSituacion,jdbcType=INTEGER},
      </if>
      <if test="nombReport != null">
        #{nombReport,jdbcType=VARCHAR},
      </if>
      <if test="telfReport != null">
        #{telfReport,jdbcType=VARCHAR},
      </if>
      <if test="codGeometria != null">
        #{codGeometria,jdbcType=INTEGER},
      </if>
      <if test="coordenadas != null">
        #{coordenadas,jdbcType=VARCHAR},
      </if>
      <if test="direccion != null">
        #{direccion,jdbcType=VARCHAR},
      </if>
      <if test="cdra != null">
        #{cdra,jdbcType=INTEGER},
      </if>
      <if test="dpto != null">
        #{dpto,jdbcType=VARCHAR},
      </if>
      <if test="zona != null">
        #{zona,jdbcType=VARCHAR},
      </if>
      <if test="subzona != null">
        #{subzona,jdbcType=VARCHAR},
      </if>
      <if test="descripcion2 != null">
        #{descripcion2,jdbcType=VARCHAR},
      </if>
      <if test="fecEvento != null">
        #{fecEvento,jdbcType=DATE},
      </if>
      <if test="horEvento != null">
        #{horEvento,jdbcType=VARCHAR},
      </if>
      <if test="fecAtencion != null">
        #{fecAtencion,jdbcType=DATE},
      </if>
      <if test="horAtencion != null">
        #{horAtencion,jdbcType=VARCHAR},
      </if>
      <if test="codSeveridad != null">
        #{codSeveridad,jdbcType=INTEGER},
      </if>
      <if test="codEstado != null">
        #{codEstado,jdbcType=INTEGER},
      </if>
      <if test="codSubestado != null">
        #{codSubestado,jdbcType=INTEGER},
      </if>
      <if test="codModalidad != null">
        #{codModalidad,jdbcType=INTEGER},
      </if>
      <if test="motivo != null">
        #{motivo,jdbcType=VARCHAR},
      </if>
      <if test="tpoHallazgo != null">
        #{tpoHallazgo,jdbcType=INTEGER},
      </if>
      <if test="descSospechoso != null">
        #{descSospechoso,jdbcType=VARCHAR},
      </if>
      <if test="estReg != null">
        #{estReg,jdbcType=VARCHAR},
      </if>
      <if test="fecCreacion != null">
        #{fecCreacion,jdbcType=TIMESTAMP},
      </if>
      <if test="fecCierre != null">
        #{fecCierre,jdbcType=TIMESTAMP},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistroCriteria" resultType="java.lang.Long">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jul 07 21:46:28 COT 2017.
    -->
    select count(*) from mapa.geo_incidencia_map
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jul 07 21:46:28 COT 2017.
    -->
    update mapa.geo_incidencia_map
    <set>
      <if test="record.idIncidencia != null">
        id_incidencia = #{record.idIncidencia,jdbcType=INTEGER},
      </if>
      <if test="record.idEvento != null">
        id_evento = #{record.idEvento,jdbcType=INTEGER},
      </if>
      <if test="record.tipoEvento != null">
        tipo_evento = #{record.tipoEvento,jdbcType=INTEGER},
      </if>
      <if test="record.subTipo != null">
        sub_tipo = #{record.subTipo,jdbcType=INTEGER},
      </if>
      <if test="record.fecHoraInicio != null">
        fec_hora_inicio = #{record.fecHoraInicio,jdbcType=TIMESTAMP},
      </if>
      <if test="record.fecHoraFin != null">
        fec_hora_fin = #{record.fecHoraFin,jdbcType=TIMESTAMP},
      </if>
      <if test="record.descripcion != null">
        descripcion = #{record.descripcion,jdbcType=VARCHAR},
      </if>
      <if test="record.severidad != null">
        severidad = #{record.severidad,jdbcType=VARCHAR},
      </if>
      <if test="record.calle != null">
        calle = #{record.calle,jdbcType=VARCHAR},
      </if>
      <if test="record.tipoDireccion != null">
        tipo_direccion = #{record.tipoDireccion,jdbcType=INTEGER},
      </if>
      <if test="record.direccionFinal != null">
        direccion_final = #{record.direccionFinal,jdbcType=VARCHAR},
      </if>
      <if test="record.nombreCalleInicio != null">
        nombre_calle_inicio = #{record.nombreCalleInicio,jdbcType=VARCHAR},
      </if>
      <if test="record.nombreCalleFin != null">
        nombre_calle_fin = #{record.nombreCalleFin,jdbcType=VARCHAR},
      </if>
      <if test="record.fecRegistra != null">
        fec_registra = #{record.fecRegistra,jdbcType=TIMESTAMP},
      </if>
      <if test="record.fecModifica != null">
        fec_modifica = #{record.fecModifica,jdbcType=TIMESTAMP},
      </if>
      <if test="record.desUsuRegistra != null">
        des_usu_registra = #{record.desUsuRegistra,jdbcType=VARCHAR},
      </if>
      <if test="record.desUsuModifica != null">
        des_usu_modifica = #{record.desUsuModifica,jdbcType=VARCHAR},
      </if>
      <if test="record.desIpRegistra != null">
        des_ip_registra = #{record.desIpRegistra,jdbcType=VARCHAR},
      </if>
      <if test="record.desIpModifica != null">
        des_ip_modifica = #{record.desIpModifica,jdbcType=VARCHAR},
      </if>
      <if test="record.idTipoVia != null">
        id_tipo_via = #{record.idTipoVia,jdbcType=INTEGER},
      </if>
      <if test="record.cuadraEvento != null">
        cuadra_evento = #{record.cuadraEvento,jdbcType=INTEGER},
      </if>
      <if test="record.idVia != null">
        id_via = #{record.idVia,jdbcType=INTEGER},
      </if>
      <if test="record.idCasoVoxiva != null">
        id_caso_voxiva = #{record.idCasoVoxiva,jdbcType=INTEGER},
      </if>
      <if test="record.tipoCasoVoxiva != null">
        tipo_caso_voxiva = #{record.tipoCasoVoxiva,jdbcType=INTEGER},
      </if>
      <if test="record.subTipoCasoVoxiva != null">
        sub_tipo_caso_voxiva = #{record.subTipoCasoVoxiva,jdbcType=INTEGER},
      </if>
      <if test="record.tipoIncidencia != null">
        tipo_incidencia = #{record.tipoIncidencia,jdbcType=INTEGER},
      </if>
      <if test="record.idViaCatastro != null">
        id_via_catastro = #{record.idViaCatastro,jdbcType=INTEGER},
      </if>
      <if test="record.idTipoViaCatastro != null">
        id_tipo_via_catastro = #{record.idTipoViaCatastro,jdbcType=INTEGER},
      </if>
      <if test="record.estado != null">
        estado = #{record.estado,jdbcType=VARCHAR},
      </if>
      <if test="record.tipoCierre != null">
        tipo_cierre = #{record.tipoCierre,jdbcType=VARCHAR},
      </if>
      <if test="record.desCallles != null">
        des_callles = #{record.desCallles,jdbcType=VARCHAR},
      </if>
      <if test="record.usuarioRegistro != null">
        usuario_registro = #{record.usuarioRegistro,jdbcType=INTEGER},
      </if>
      <if test="record.usuarioModifica != null">
        usuario_modifica = #{record.usuarioModifica,jdbcType=INTEGER},
      </if>
      <if test="record.visible != null">
        visible = #{record.visible,jdbcType=VARCHAR},
      </if>
      <if test="record.idDispositivo != null">
        id_dispositivo = #{record.idDispositivo,jdbcType=VARCHAR},
      </if>
      <if test="record.horaLlamadaVoxiva != null">
        hora_llamada_voxiva = #{record.horaLlamadaVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="record.nombreReportaIncidencia != null">
        nombre_reporta_incidencia = #{record.nombreReportaIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="record.direccionIncidencia != null">
        direccion_incidencia = #{record.direccionIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="record.accionesIncidencia != null">
        acciones_incidencia = #{record.accionesIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="record.nombreRecepcionaIncidencia != null">
        nombre_recepciona_incidencia = #{record.nombreRecepcionaIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="record.dniRecepcionaIncidencia != null">
        dni_recepciona_incidencia = #{record.dniRecepcionaIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="record.nroCasoVoxiva != null">
        nro_caso_voxiva = #{record.nroCasoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="record.telefReportaIncidencia != null">
        telef_reporta_incidencia = #{record.telefReportaIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="record.incidenciaPresentada != null">
        incidencia_presentada = #{record.incidenciaPresentada,jdbcType=VARCHAR},
      </if>
      <if test="record.medioIngreso != null">
        medio_ingreso = #{record.medioIngreso,jdbcType=INTEGER},
      </if>
      <if test="record.estadoCalifVoxiva != null">
        estado_calif_voxiva = #{record.estadoCalifVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="record.estadoVoxiva != null">
        estado_voxiva = #{record.estadoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="record.desEstadoVoxiva != null">
        des_estado_voxiva = #{record.desEstadoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="record.subEstadoVoxiva != null">
        sub_estado_voxiva = #{record.subEstadoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="record.desSubEstadoVoxiva != null">
        des_sub_estado_voxiva = #{record.desSubEstadoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="record.desEstadoCalifVoxiva != null">
        des_estado_calif_voxiva = #{record.desEstadoCalifVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="record.unidIntervVoxiva != null">
        unid_interv_voxiva = #{record.unidIntervVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="record.desUnidIntervVoxiva != null">
        des_unid_interv_voxiva = #{record.desUnidIntervVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="record.importanteVoxiva != null">
        importante_voxiva = #{record.importanteVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="record.llamadaDevueltaVoxiva != null">
        llamada_devuelta_voxiva = #{record.llamadaDevueltaVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="record.fechaHoraAtencionVoxiva != null">
        fecha_hora_atencion_voxiva = #{record.fechaHoraAtencionVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="record.indLeido != null">
        ind_leido = #{record.indLeido,jdbcType=VARCHAR},
      </if>
      <if test="record.codUnidad != null">
        cod_unidad = #{record.codUnidad,jdbcType=INTEGER},
      </if>
      <if test="record.codCaso != null">
        cod_caso = #{record.codCaso,jdbcType=INTEGER},
      </if>
      <if test="record.codSubcaso != null">
        cod_subcaso = #{record.codSubcaso,jdbcType=INTEGER},
      </if>
      <if test="record.codMedio != null">
        cod_medio = #{record.codMedio,jdbcType=INTEGER},
      </if>
      <if test="record.codSituacion != null">
        cod_situacion = #{record.codSituacion,jdbcType=INTEGER},
      </if>
      <if test="record.nombReport != null">
        nomb_report = #{record.nombReport,jdbcType=VARCHAR},
      </if>
      <if test="record.telfReport != null">
        telf_report = #{record.telfReport,jdbcType=VARCHAR},
      </if>
      <if test="record.codGeometria != null">
        cod_geometria = #{record.codGeometria,jdbcType=INTEGER},
      </if>
      <if test="record.coordenadas != null">
        coordenadas = #{record.coordenadas,jdbcType=VARCHAR},
      </if>
      <if test="record.direccion != null">
        direccion = #{record.direccion,jdbcType=VARCHAR},
      </if>
      <if test="record.cdra != null">
        cdra = #{record.cdra,jdbcType=INTEGER},
      </if>
      <if test="record.dpto != null">
        dpto = #{record.dpto,jdbcType=VARCHAR},
      </if>
      <if test="record.zona != null">
        zona = #{record.zona,jdbcType=VARCHAR},
      </if>
      <if test="record.subzona != null">
        subzona = #{record.subzona,jdbcType=VARCHAR},
      </if>
      <if test="record.descripcion2 != null">
        descripcion2 = #{record.descripcion2,jdbcType=VARCHAR},
      </if>
      <if test="record.fecEvento != null">
        fec_evento = #{record.fecEvento,jdbcType=DATE},
      </if>
      <if test="record.horEvento != null">
        hor_evento = #{record.horEvento,jdbcType=VARCHAR},
      </if>
      <if test="record.fecAtencion != null">
        fec_atencion = #{record.fecAtencion,jdbcType=DATE},
      </if>
      <if test="record.horAtencion != null">
        hor_atencion = #{record.horAtencion,jdbcType=VARCHAR},
      </if>
      <if test="record.codSeveridad != null">
        cod_severidad = #{record.codSeveridad,jdbcType=INTEGER},
      </if>
      <if test="record.codEstado != null">
        cod_estado = #{record.codEstado,jdbcType=INTEGER},
      </if>
      <if test="record.codSubestado != null">
        cod_subestado = #{record.codSubestado,jdbcType=INTEGER},
      </if>
      <if test="record.codModalidad != null">
        cod_modalidad = #{record.codModalidad,jdbcType=INTEGER},
      </if>
      <if test="record.motivo != null">
        motivo = #{record.motivo,jdbcType=VARCHAR},
      </if>
      <if test="record.tpoHallazgo != null">
        tpo_hallazgo = #{record.tpoHallazgo,jdbcType=INTEGER},
      </if>
      <if test="record.descSospechoso != null">
        desc_sospechoso = #{record.descSospechoso,jdbcType=VARCHAR},
      </if>
      <if test="record.estReg != null">
        est_reg = #{record.estReg,jdbcType=VARCHAR},
      </if>
      <if test="record.fecCreacion != null">
        fec_creacion = #{record.fecCreacion,jdbcType=TIMESTAMP},
      </if>
      <if test="record.fecCierre != null">
        fec_cierre = #{record.fecCierre,jdbcType=TIMESTAMP},
      </if>
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jul 07 21:46:28 COT 2017.
    -->
    update mapa.geo_incidencia_map
    set id_incidencia = #{record.idIncidencia,jdbcType=INTEGER},
      id_evento = #{record.idEvento,jdbcType=INTEGER},
      tipo_evento = #{record.tipoEvento,jdbcType=INTEGER},
      sub_tipo = #{record.subTipo,jdbcType=INTEGER},
      fec_hora_inicio = #{record.fecHoraInicio,jdbcType=TIMESTAMP},
      fec_hora_fin = #{record.fecHoraFin,jdbcType=TIMESTAMP},
      descripcion = #{record.descripcion,jdbcType=VARCHAR},
      severidad = #{record.severidad,jdbcType=VARCHAR},
      calle = #{record.calle,jdbcType=VARCHAR},
      tipo_direccion = #{record.tipoDireccion,jdbcType=INTEGER},
      direccion_final = #{record.direccionFinal,jdbcType=VARCHAR},
      nombre_calle_inicio = #{record.nombreCalleInicio,jdbcType=VARCHAR},
      nombre_calle_fin = #{record.nombreCalleFin,jdbcType=VARCHAR},
      fec_registra = #{record.fecRegistra,jdbcType=TIMESTAMP},
      fec_modifica = #{record.fecModifica,jdbcType=TIMESTAMP},
      des_usu_registra = #{record.desUsuRegistra,jdbcType=VARCHAR},
      des_usu_modifica = #{record.desUsuModifica,jdbcType=VARCHAR},
      des_ip_registra = #{record.desIpRegistra,jdbcType=VARCHAR},
      des_ip_modifica = #{record.desIpModifica,jdbcType=VARCHAR},
      id_tipo_via = #{record.idTipoVia,jdbcType=INTEGER},
      cuadra_evento = #{record.cuadraEvento,jdbcType=INTEGER},
      id_via = #{record.idVia,jdbcType=INTEGER},
      id_caso_voxiva = #{record.idCasoVoxiva,jdbcType=INTEGER},
      tipo_caso_voxiva = #{record.tipoCasoVoxiva,jdbcType=INTEGER},
      sub_tipo_caso_voxiva = #{record.subTipoCasoVoxiva,jdbcType=INTEGER},
      tipo_incidencia = #{record.tipoIncidencia,jdbcType=INTEGER},
      id_via_catastro = #{record.idViaCatastro,jdbcType=INTEGER},
      id_tipo_via_catastro = #{record.idTipoViaCatastro,jdbcType=INTEGER},
      estado = #{record.estado,jdbcType=VARCHAR},
      tipo_cierre = #{record.tipoCierre,jdbcType=VARCHAR},
      des_callles = #{record.desCallles,jdbcType=VARCHAR},
      usuario_registro = #{record.usuarioRegistro,jdbcType=INTEGER},
      usuario_modifica = #{record.usuarioModifica,jdbcType=INTEGER},
      visible = #{record.visible,jdbcType=VARCHAR},
      id_dispositivo = #{record.idDispositivo,jdbcType=VARCHAR},
      hora_llamada_voxiva = #{record.horaLlamadaVoxiva,jdbcType=VARCHAR},
      nombre_reporta_incidencia = #{record.nombreReportaIncidencia,jdbcType=VARCHAR},
      direccion_incidencia = #{record.direccionIncidencia,jdbcType=VARCHAR},
      acciones_incidencia = #{record.accionesIncidencia,jdbcType=VARCHAR},
      nombre_recepciona_incidencia = #{record.nombreRecepcionaIncidencia,jdbcType=VARCHAR},
      dni_recepciona_incidencia = #{record.dniRecepcionaIncidencia,jdbcType=VARCHAR},
      nro_caso_voxiva = #{record.nroCasoVoxiva,jdbcType=VARCHAR},
      telef_reporta_incidencia = #{record.telefReportaIncidencia,jdbcType=VARCHAR},
      incidencia_presentada = #{record.incidenciaPresentada,jdbcType=VARCHAR},
      medio_ingreso = #{record.medioIngreso,jdbcType=INTEGER},
      estado_calif_voxiva = #{record.estadoCalifVoxiva,jdbcType=VARCHAR},
      estado_voxiva = #{record.estadoVoxiva,jdbcType=VARCHAR},
      des_estado_voxiva = #{record.desEstadoVoxiva,jdbcType=VARCHAR},
      sub_estado_voxiva = #{record.subEstadoVoxiva,jdbcType=VARCHAR},
      des_sub_estado_voxiva = #{record.desSubEstadoVoxiva,jdbcType=VARCHAR},
      des_estado_calif_voxiva = #{record.desEstadoCalifVoxiva,jdbcType=VARCHAR},
      unid_interv_voxiva = #{record.unidIntervVoxiva,jdbcType=VARCHAR},
      des_unid_interv_voxiva = #{record.desUnidIntervVoxiva,jdbcType=VARCHAR},
      importante_voxiva = #{record.importanteVoxiva,jdbcType=VARCHAR},
      llamada_devuelta_voxiva = #{record.llamadaDevueltaVoxiva,jdbcType=VARCHAR},
      fecha_hora_atencion_voxiva = #{record.fechaHoraAtencionVoxiva,jdbcType=VARCHAR},
      ind_leido = #{record.indLeido,jdbcType=VARCHAR},
      cod_unidad = #{record.codUnidad,jdbcType=INTEGER},
      cod_caso = #{record.codCaso,jdbcType=INTEGER},
      cod_subcaso = #{record.codSubcaso,jdbcType=INTEGER},
      cod_medio = #{record.codMedio,jdbcType=INTEGER},
      cod_situacion = #{record.codSituacion,jdbcType=INTEGER},
      nomb_report = #{record.nombReport,jdbcType=VARCHAR},
      telf_report = #{record.telfReport,jdbcType=VARCHAR},
      cod_geometria = #{record.codGeometria,jdbcType=INTEGER},
      coordenadas = #{record.coordenadas,jdbcType=VARCHAR},
      direccion = #{record.direccion,jdbcType=VARCHAR},
      cdra = #{record.cdra,jdbcType=INTEGER},
      dpto = #{record.dpto,jdbcType=VARCHAR},
      zona = #{record.zona,jdbcType=VARCHAR},
      subzona = #{record.subzona,jdbcType=VARCHAR},
      descripcion2 = #{record.descripcion2,jdbcType=VARCHAR},
      fec_evento = #{record.fecEvento,jdbcType=DATE},
      hor_evento = #{record.horEvento,jdbcType=VARCHAR},
      fec_atencion = #{record.fecAtencion,jdbcType=DATE},
      hor_atencion = #{record.horAtencion,jdbcType=VARCHAR},
      cod_severidad = #{record.codSeveridad,jdbcType=INTEGER},
      cod_estado = #{record.codEstado,jdbcType=INTEGER},
      cod_subestado = #{record.codSubestado,jdbcType=INTEGER},
      cod_modalidad = #{record.codModalidad,jdbcType=INTEGER},
      motivo = #{record.motivo,jdbcType=VARCHAR},
      tpo_hallazgo = #{record.tpoHallazgo,jdbcType=INTEGER},
      desc_sospechoso = #{record.descSospechoso,jdbcType=VARCHAR},
      est_reg = #{record.estReg,jdbcType=VARCHAR},
      fec_creacion = #{record.fecCreacion,jdbcType=TIMESTAMP},
      fec_cierre = #{record.fecCierre,jdbcType=TIMESTAMP}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistro">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jul 07 21:46:28 COT 2017.
    -->
    update mapa.geo_incidencia_map
    <set>
      <if test="idEvento != null">
        id_evento = #{idEvento,jdbcType=INTEGER},
      </if>
      <if test="tipoEvento != null">
        tipo_evento = #{tipoEvento,jdbcType=INTEGER},
      </if>
      <if test="subTipo != null">
        sub_tipo = #{subTipo,jdbcType=INTEGER},
      </if>
      <if test="fecHoraInicio != null">
        fec_hora_inicio = #{fecHoraInicio,jdbcType=TIMESTAMP},
      </if>
      <if test="fecHoraFin != null">
        fec_hora_fin = #{fecHoraFin,jdbcType=TIMESTAMP},
      </if>
      <if test="descripcion != null">
        descripcion = #{descripcion,jdbcType=VARCHAR},
      </if>
      <if test="severidad != null">
        severidad = #{severidad,jdbcType=VARCHAR},
      </if>
      <if test="calle != null">
        calle = #{calle,jdbcType=VARCHAR},
      </if>
      <if test="tipoDireccion != null">
        tipo_direccion = #{tipoDireccion,jdbcType=INTEGER},
      </if>
      <if test="direccionFinal != null">
        direccion_final = #{direccionFinal,jdbcType=VARCHAR},
      </if>
      <if test="nombreCalleInicio != null">
        nombre_calle_inicio = #{nombreCalleInicio,jdbcType=VARCHAR},
      </if>
      <if test="nombreCalleFin != null">
        nombre_calle_fin = #{nombreCalleFin,jdbcType=VARCHAR},
      </if>
      <if test="fecRegistra != null">
        fec_registra = #{fecRegistra,jdbcType=TIMESTAMP},
      </if>
      <if test="fecModifica != null">
        fec_modifica = #{fecModifica,jdbcType=TIMESTAMP},
      </if>
      <if test="desUsuRegistra != null">
        des_usu_registra = #{desUsuRegistra,jdbcType=VARCHAR},
      </if>
      <if test="desUsuModifica != null">
        des_usu_modifica = #{desUsuModifica,jdbcType=VARCHAR},
      </if>
      <if test="desIpRegistra != null">
        des_ip_registra = #{desIpRegistra,jdbcType=VARCHAR},
      </if>
      <if test="desIpModifica != null">
        des_ip_modifica = #{desIpModifica,jdbcType=VARCHAR},
      </if>
      <if test="idTipoVia != null">
        id_tipo_via = #{idTipoVia,jdbcType=INTEGER},
      </if>
      <if test="cuadraEvento != null">
        cuadra_evento = #{cuadraEvento,jdbcType=INTEGER},
      </if>
      <if test="idVia != null">
        id_via = #{idVia,jdbcType=INTEGER},
      </if>
      <if test="idCasoVoxiva != null">
        id_caso_voxiva = #{idCasoVoxiva,jdbcType=INTEGER},
      </if>
      <if test="tipoCasoVoxiva != null">
        tipo_caso_voxiva = #{tipoCasoVoxiva,jdbcType=INTEGER},
      </if>
      <if test="subTipoCasoVoxiva != null">
        sub_tipo_caso_voxiva = #{subTipoCasoVoxiva,jdbcType=INTEGER},
      </if>
      <if test="tipoIncidencia != null">
        tipo_incidencia = #{tipoIncidencia,jdbcType=INTEGER},
      </if>
      <if test="idViaCatastro != null">
        id_via_catastro = #{idViaCatastro,jdbcType=INTEGER},
      </if>
      <if test="idTipoViaCatastro != null">
        id_tipo_via_catastro = #{idTipoViaCatastro,jdbcType=INTEGER},
      </if>
      <if test="estado != null">
        estado = #{estado,jdbcType=VARCHAR},
      </if>
      <if test="tipoCierre != null">
        tipo_cierre = #{tipoCierre,jdbcType=VARCHAR},
      </if>
      <if test="desCallles != null">
        des_callles = #{desCallles,jdbcType=VARCHAR},
      </if>
      <if test="usuarioRegistro != null">
        usuario_registro = #{usuarioRegistro,jdbcType=INTEGER},
      </if>
      <if test="usuarioModifica != null">
        usuario_modifica = #{usuarioModifica,jdbcType=INTEGER},
      </if>
      <if test="visible != null">
        visible = #{visible,jdbcType=VARCHAR},
      </if>
      <if test="idDispositivo != null">
        id_dispositivo = #{idDispositivo,jdbcType=VARCHAR},
      </if>
      <if test="horaLlamadaVoxiva != null">
        hora_llamada_voxiva = #{horaLlamadaVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="nombreReportaIncidencia != null">
        nombre_reporta_incidencia = #{nombreReportaIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="direccionIncidencia != null">
        direccion_incidencia = #{direccionIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="accionesIncidencia != null">
        acciones_incidencia = #{accionesIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="nombreRecepcionaIncidencia != null">
        nombre_recepciona_incidencia = #{nombreRecepcionaIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="dniRecepcionaIncidencia != null">
        dni_recepciona_incidencia = #{dniRecepcionaIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="nroCasoVoxiva != null">
        nro_caso_voxiva = #{nroCasoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="telefReportaIncidencia != null">
        telef_reporta_incidencia = #{telefReportaIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="incidenciaPresentada != null">
        incidencia_presentada = #{incidenciaPresentada,jdbcType=VARCHAR},
      </if>
      <if test="medioIngreso != null">
        medio_ingreso = #{medioIngreso,jdbcType=INTEGER},
      </if>
      <if test="estadoCalifVoxiva != null">
        estado_calif_voxiva = #{estadoCalifVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="estadoVoxiva != null">
        estado_voxiva = #{estadoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="desEstadoVoxiva != null">
        des_estado_voxiva = #{desEstadoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="subEstadoVoxiva != null">
        sub_estado_voxiva = #{subEstadoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="desSubEstadoVoxiva != null">
        des_sub_estado_voxiva = #{desSubEstadoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="desEstadoCalifVoxiva != null">
        des_estado_calif_voxiva = #{desEstadoCalifVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="unidIntervVoxiva != null">
        unid_interv_voxiva = #{unidIntervVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="desUnidIntervVoxiva != null">
        des_unid_interv_voxiva = #{desUnidIntervVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="importanteVoxiva != null">
        importante_voxiva = #{importanteVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="llamadaDevueltaVoxiva != null">
        llamada_devuelta_voxiva = #{llamadaDevueltaVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="fechaHoraAtencionVoxiva != null">
        fecha_hora_atencion_voxiva = #{fechaHoraAtencionVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="indLeido != null">
        ind_leido = #{indLeido,jdbcType=VARCHAR},
      </if>
      <if test="codUnidad != null">
        cod_unidad = #{codUnidad,jdbcType=INTEGER},
      </if>
      <if test="codCaso != null">
        cod_caso = #{codCaso,jdbcType=INTEGER},
      </if>
      <if test="codSubcaso != null">
        cod_subcaso = #{codSubcaso,jdbcType=INTEGER},
      </if>
      <if test="codMedio != null">
        cod_medio = #{codMedio,jdbcType=INTEGER},
      </if>
      <if test="codSituacion != null">
        cod_situacion = #{codSituacion,jdbcType=INTEGER},
      </if>
      <if test="nombReport != null">
        nomb_report = #{nombReport,jdbcType=VARCHAR},
      </if>
      <if test="telfReport != null">
        telf_report = #{telfReport,jdbcType=VARCHAR},
      </if>
      <if test="codGeometria != null">
        cod_geometria = #{codGeometria,jdbcType=INTEGER},
      </if>
      <if test="coordenadas != null">
        coordenadas = #{coordenadas,jdbcType=VARCHAR},
      </if>
      <if test="direccion != null">
        direccion = #{direccion,jdbcType=VARCHAR},
      </if>
      <if test="cdra != null">
        cdra = #{cdra,jdbcType=INTEGER},
      </if>
      <if test="dpto != null">
        dpto = #{dpto,jdbcType=VARCHAR},
      </if>
      <if test="zona != null">
        zona = #{zona,jdbcType=VARCHAR},
      </if>
      <if test="subzona != null">
        subzona = #{subzona,jdbcType=VARCHAR},
      </if>
      <if test="descripcion2 != null">
        descripcion2 = #{descripcion2,jdbcType=VARCHAR},
      </if>
      <if test="fecEvento != null">
        fec_evento = #{fecEvento,jdbcType=DATE},
      </if>
      <if test="horEvento != null">
        hor_evento = #{horEvento,jdbcType=VARCHAR},
      </if>
      <if test="fecAtencion != null">
        fec_atencion = #{fecAtencion,jdbcType=DATE},
      </if>
      <if test="horAtencion != null">
        hor_atencion = #{horAtencion,jdbcType=VARCHAR},
      </if>
      <if test="codSeveridad != null">
        cod_severidad = #{codSeveridad,jdbcType=INTEGER},
      </if>
      <if test="codEstado != null">
        cod_estado = #{codEstado,jdbcType=INTEGER},
      </if>
      <if test="codSubestado != null">
        cod_subestado = #{codSubestado,jdbcType=INTEGER},
      </if>
      <if test="codModalidad != null">
        cod_modalidad = #{codModalidad,jdbcType=INTEGER},
      </if>
      <if test="motivo != null">
        motivo = #{motivo,jdbcType=VARCHAR},
      </if>
      <if test="tpoHallazgo != null">
        tpo_hallazgo = #{tpoHallazgo,jdbcType=INTEGER},
      </if>
      <if test="descSospechoso != null">
        desc_sospechoso = #{descSospechoso,jdbcType=VARCHAR},
      </if>
      <if test="estReg != null">
        est_reg = #{estReg,jdbcType=VARCHAR},
      </if>
      <if test="fecCreacion != null">
        fec_creacion = #{fecCreacion,jdbcType=TIMESTAMP},
      </if>
      <if test="fecCierre != null">
        fec_cierre = #{fecCierre,jdbcType=TIMESTAMP},
      </if>
    </set>
    where id_incidencia = #{idIncidencia,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistro">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jul 07 21:46:28 COT 2017.
    -->
    update mapa.geo_incidencia_map
    set id_evento = #{idEvento,jdbcType=INTEGER},
      tipo_evento = #{tipoEvento,jdbcType=INTEGER},
      sub_tipo = #{subTipo,jdbcType=INTEGER},
      fec_hora_inicio = #{fecHoraInicio,jdbcType=TIMESTAMP},
      fec_hora_fin = #{fecHoraFin,jdbcType=TIMESTAMP},
      descripcion = #{descripcion,jdbcType=VARCHAR},
      severidad = #{severidad,jdbcType=VARCHAR},
      calle = #{calle,jdbcType=VARCHAR},
      tipo_direccion = #{tipoDireccion,jdbcType=INTEGER},
      direccion_final = #{direccionFinal,jdbcType=VARCHAR},
      nombre_calle_inicio = #{nombreCalleInicio,jdbcType=VARCHAR},
      nombre_calle_fin = #{nombreCalleFin,jdbcType=VARCHAR},
      fec_registra = #{fecRegistra,jdbcType=TIMESTAMP},
      fec_modifica = #{fecModifica,jdbcType=TIMESTAMP},
      des_usu_registra = #{desUsuRegistra,jdbcType=VARCHAR},
      des_usu_modifica = #{desUsuModifica,jdbcType=VARCHAR},
      des_ip_registra = #{desIpRegistra,jdbcType=VARCHAR},
      des_ip_modifica = #{desIpModifica,jdbcType=VARCHAR},
      id_tipo_via = #{idTipoVia,jdbcType=INTEGER},
      cuadra_evento = #{cuadraEvento,jdbcType=INTEGER},
      id_via = #{idVia,jdbcType=INTEGER},
      id_caso_voxiva = #{idCasoVoxiva,jdbcType=INTEGER},
      tipo_caso_voxiva = #{tipoCasoVoxiva,jdbcType=INTEGER},
      sub_tipo_caso_voxiva = #{subTipoCasoVoxiva,jdbcType=INTEGER},
      tipo_incidencia = #{tipoIncidencia,jdbcType=INTEGER},
      id_via_catastro = #{idViaCatastro,jdbcType=INTEGER},
      id_tipo_via_catastro = #{idTipoViaCatastro,jdbcType=INTEGER},
      estado = #{estado,jdbcType=VARCHAR},
      tipo_cierre = #{tipoCierre,jdbcType=VARCHAR},
      des_callles = #{desCallles,jdbcType=VARCHAR},
      usuario_registro = #{usuarioRegistro,jdbcType=INTEGER},
      usuario_modifica = #{usuarioModifica,jdbcType=INTEGER},
      visible = #{visible,jdbcType=VARCHAR},
      id_dispositivo = #{idDispositivo,jdbcType=VARCHAR},
      hora_llamada_voxiva = #{horaLlamadaVoxiva,jdbcType=VARCHAR},
      nombre_reporta_incidencia = #{nombreReportaIncidencia,jdbcType=VARCHAR},
      direccion_incidencia = #{direccionIncidencia,jdbcType=VARCHAR},
      acciones_incidencia = #{accionesIncidencia,jdbcType=VARCHAR},
      nombre_recepciona_incidencia = #{nombreRecepcionaIncidencia,jdbcType=VARCHAR},
      dni_recepciona_incidencia = #{dniRecepcionaIncidencia,jdbcType=VARCHAR},
      nro_caso_voxiva = #{nroCasoVoxiva,jdbcType=VARCHAR},
      telef_reporta_incidencia = #{telefReportaIncidencia,jdbcType=VARCHAR},
      incidencia_presentada = #{incidenciaPresentada,jdbcType=VARCHAR},
      medio_ingreso = #{medioIngreso,jdbcType=INTEGER},
      estado_calif_voxiva = #{estadoCalifVoxiva,jdbcType=VARCHAR},
      estado_voxiva = #{estadoVoxiva,jdbcType=VARCHAR},
      des_estado_voxiva = #{desEstadoVoxiva,jdbcType=VARCHAR},
      sub_estado_voxiva = #{subEstadoVoxiva,jdbcType=VARCHAR},
      des_sub_estado_voxiva = #{desSubEstadoVoxiva,jdbcType=VARCHAR},
      des_estado_calif_voxiva = #{desEstadoCalifVoxiva,jdbcType=VARCHAR},
      unid_interv_voxiva = #{unidIntervVoxiva,jdbcType=VARCHAR},
      des_unid_interv_voxiva = #{desUnidIntervVoxiva,jdbcType=VARCHAR},
      importante_voxiva = #{importanteVoxiva,jdbcType=VARCHAR},
      llamada_devuelta_voxiva = #{llamadaDevueltaVoxiva,jdbcType=VARCHAR},
      fecha_hora_atencion_voxiva = #{fechaHoraAtencionVoxiva,jdbcType=VARCHAR},
      ind_leido = #{indLeido,jdbcType=VARCHAR},
      cod_unidad = #{codUnidad,jdbcType=INTEGER},
      cod_caso = #{codCaso,jdbcType=INTEGER},
      cod_subcaso = #{codSubcaso,jdbcType=INTEGER},
      cod_medio = #{codMedio,jdbcType=INTEGER},
      cod_situacion = #{codSituacion,jdbcType=INTEGER},
      nomb_report = #{nombReport,jdbcType=VARCHAR},
      telf_report = #{telfReport,jdbcType=VARCHAR},
      cod_geometria = #{codGeometria,jdbcType=INTEGER},
      coordenadas = #{coordenadas,jdbcType=VARCHAR},
      direccion = #{direccion,jdbcType=VARCHAR},
      cdra = #{cdra,jdbcType=INTEGER},
      dpto = #{dpto,jdbcType=VARCHAR},
      zona = #{zona,jdbcType=VARCHAR},
      subzona = #{subzona,jdbcType=VARCHAR},
      descripcion2 = #{descripcion2,jdbcType=VARCHAR},
      fec_evento = #{fecEvento,jdbcType=DATE},
      hor_evento = #{horEvento,jdbcType=VARCHAR},
      fec_atencion = #{fecAtencion,jdbcType=DATE},
      hor_atencion = #{horAtencion,jdbcType=VARCHAR},
      cod_severidad = #{codSeveridad,jdbcType=INTEGER},
      cod_estado = #{codEstado,jdbcType=INTEGER},
      cod_subestado = #{codSubestado,jdbcType=INTEGER},
      cod_modalidad = #{codModalidad,jdbcType=INTEGER},
      motivo = #{motivo,jdbcType=VARCHAR},
      tpo_hallazgo = #{tpoHallazgo,jdbcType=INTEGER},
      desc_sospechoso = #{descSospechoso,jdbcType=VARCHAR},
      est_reg = #{estReg,jdbcType=VARCHAR},
      fec_creacion = #{fecCreacion,jdbcType=TIMESTAMP},
      fec_cierre = #{fecCierre,jdbcType=TIMESTAMP}
    where id_incidencia = #{idIncidencia,jdbcType=INTEGER}
  </update>
  
  <!-- ****************************************************************************** -->
  <!-- PROCEDIMIENTOS PERSONALIZADOS -->
  
  <resultMap id="BaseResultMap_Paginado" type="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistro">

    <id column="id_incidencia" jdbcType="INTEGER" property="idIncidencia" />
    <result column="id_evento" jdbcType="INTEGER" property="idEvento" />
    <result column="tipo_evento" jdbcType="INTEGER" property="tipoEvento" />
    <result column="sub_tipo" jdbcType="INTEGER" property="subTipo" />
    <result column="fec_hora_inicio" jdbcType="TIMESTAMP" property="fecHoraInicio" />
    <result column="fec_hora_fin" jdbcType="TIMESTAMP" property="fecHoraFin" />
    <result column="descripcion" jdbcType="VARCHAR" property="descripcion" />
    <result column="severidad" jdbcType="VARCHAR" property="severidad" />
    <result column="calle" jdbcType="VARCHAR" property="calle" />
    <result column="tipo_direccion" jdbcType="INTEGER" property="tipoDireccion" />
    <result column="direccion_final" jdbcType="VARCHAR" property="direccionFinal" />
    <result column="nombre_calle_inicio" jdbcType="VARCHAR" property="nombreCalleInicio" />
    <result column="nombre_calle_fin" jdbcType="VARCHAR" property="nombreCalleFin" />
    <result column="fec_registra" jdbcType="TIMESTAMP" property="fecRegistra" />
    <result column="fec_modifica" jdbcType="TIMESTAMP" property="fecModifica" />
    <result column="des_usu_registra" jdbcType="VARCHAR" property="desUsuRegistra" />
    <result column="des_usu_modifica" jdbcType="VARCHAR" property="desUsuModifica" />
    <result column="des_ip_registra" jdbcType="VARCHAR" property="desIpRegistra" />
    <result column="des_ip_modifica" jdbcType="VARCHAR" property="desIpModifica" />
    <result column="id_tipo_via" jdbcType="INTEGER" property="idTipoVia" />
    <result column="cuadra_evento" jdbcType="INTEGER" property="cuadraEvento" />
    <result column="id_via" jdbcType="INTEGER" property="idVia" />
    <result column="id_caso_voxiva" jdbcType="INTEGER" property="idCasoVoxiva" />
    <result column="tipo_caso_voxiva" jdbcType="INTEGER" property="tipoCasoVoxiva" />
    <result column="sub_tipo_caso_voxiva" jdbcType="INTEGER" property="subTipoCasoVoxiva" />
    <result column="tipo_incidencia" jdbcType="INTEGER" property="tipoIncidencia" />
    <result column="id_via_catastro" jdbcType="INTEGER" property="idViaCatastro" />
    <result column="id_tipo_via_catastro" jdbcType="INTEGER" property="idTipoViaCatastro" />
    <result column="nombre_tipo_evento" jdbcType="VARCHAR" property="nombreTipoEvento" />
    <result column="des_tipo_incidencia" jdbcType="VARCHAR" property="desTipoIncidencia" />
    <result column="estado" jdbcType="VARCHAR" property="estado" />
    <result column="tipo_cierre" jdbcType="VARCHAR" property="tipoCierre" />
    <result column="des_callles" jdbcType="VARCHAR" property="desCallles" />
    <result column="medio_ingreso" jdbcType="INTEGER" property="medioIngreso" />
  </resultMap>
  
  	<select id="listarIncidenciasConPaginacion" parameterType="HashMap" resultMap="BaseResultMap_Paginado">
	
	  select * from (
	  
					select  
						a.id_incidencia, 
						a.id_evento, 
						a.tipo_evento, 
						a.sub_tipo, 
						a.fec_hora_inicio, 
						a.fec_hora_fin, 
						a.descripcion, 
					    a.severidad, 
					    a.calle, 
					    a.tipo_direccion, 
					    a.direccion_final, 
					    a.nombre_calle_inicio, 
					    a.nombre_calle_fin, 
				    	a.fec_registra, 
				    	a.fec_modifica, 
				    	a.estado, 
				    	a.des_usu_registra, 
				    	a.des_usu_modifica, 
				    	a.des_ip_registra, 
				    	a.des_ip_modifica, 
				    	a.id_tipo_via, 
				    	a.cuadra_evento, 
				    	a.id_via, 
				    	a.id_caso_voxiva, 
				    	a.tipo_caso_voxiva, 
				    	a.sub_tipo_caso_voxiva, 
				    	a.tipo_incidencia, 
				    	a.id_via_catastro, 
				    	a.id_tipo_via_catastro,
				    	a.tipo_cierre,
				    	a.des_callles,
				    	a.medio_ingreso,
				    	b.des_nombre as nombre_tipo_evento,
				    	c.des_nombre as des_tipo_incidencia
					     ,row_number()  over   (order by a.fec_registra desc)  as row_next
				    from 
				    		mapa.geo_incidencia_map a left join mapa.ctlmelecgo b on a.tipo_evento = b.ide_elemento
				    		inner join mapa.ctlmelecgo c on a.tipo_incidencia = c.ide_elemento
				    where
				         estado='A'
				         
				        <if test="tipo_incidencia != null">
					       and a.tipo_incidencia = #{tipo_incidencia}
					    </if> 
				         
				        <if test="nombre_tipo_evento != null">
					        and upper(b.des_nombre) like upper('%${nombre_tipo_evento}%')
					    </if> 
					    
					    <if test="des_callles != null">
					        and upper(a.des_callles) like upper('%${des_callles}%')
					    </if> 
					    
					    <if test="descripcion != null">
					        and upper(a.descripcion) like upper('%${descripcion}%')
					    </if> 
				        
				        <if test="fecha_ini != null">
				         	and cast(a.fec_hora_inicio as date) <![CDATA[ >= ]]>  '${fecha_ini}'	
						</if> 
						
						<if test="fecha_fin != null">
				         	and cast(a.fec_hora_fin as date) <![CDATA[ <= ]]> '${fecha_fin}'	
						</if> 
	
						
		)as temp where row_next between #{START} and #{LIMIT}  
  
	</select>
	
	<select id="countListarIncidenciasConPaginacion" parameterType="HashMap" resultType="java.lang.Integer">

    	select 
    			count(*)
		 from 
				    		mapa.geo_incidencia_map a left join mapa.ctlmelecgo b on a.tipo_evento = b.ide_elemento
				    		inner join mapa.ctlmelecgo c on a.tipo_incidencia = c.ide_elemento
				    where
				         estado='A'
				         
				        <if test="tipo_incidencia != null">
					       and a.tipo_incidencia = #{tipo_incidencia}
					    </if> 
				         
				        <if test="nombre_tipo_evento != null">
					        and upper(b.des_nombre) like upper('%${nombre_tipo_evento}%')
					    </if> 
					    
					    <if test="des_callles != null">
					        and upper(a.des_callles) like upper('%${des_callles}%')
					    </if> 
					    
					    <if test="descripcion != null">
					        and upper(a.descripcion) like upper('%${descripcion}%')
					    </if> 
				        
				        <if test="fecha_ini != null">
				         	and cast(a.fec_hora_inicio as date) <![CDATA[ >= ]]>  '${fecha_ini}'	
						</if> 
						
						<if test="fecha_fin != null">
				         	and cast(a.fec_hora_fin as date) <![CDATA[ <= ]]> '${fecha_fin}'	
						</if> 

		
	</select>
  
    <select id="cierreCallesPorVencer" parameterType="HashMap" resultMap="BaseResultMap">
  
 	 select a.* from mapa.geo_incidencia_map a
	 where cast('${fecha_fin}' as date) between cast(a.fec_hora_inicio as date) and cast(a.fec_hora_fin as date)
	
  </select>
  
   <select id="cierreCallesPorIniciar" parameterType="HashMap" resultMap="BaseResultMap">
  
 	 select a.* from mapa.geo_incidencia_map a
	 where cast(a.fec_hora_inicio as date) <![CDATA[ >= ]]> '${fecha_ini}'
	
  </select>
  
   
   
   <!-- Incidencia Generic -->
   
   
   <resultMap id="BaseResultMap_PaginadoGeneric" type="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistro">

    <id column="id_incidencia" jdbcType="INTEGER" property="idIncidencia" />
    <result column="id_evento" jdbcType="INTEGER" property="idEvento" />
    <result column="tipo_evento" jdbcType="INTEGER" property="tipoEvento" />
    <result column="sub_tipo" jdbcType="INTEGER" property="subTipo" />
    <result column="fec_hora_inicio" jdbcType="TIMESTAMP" property="fecHoraInicio" />
    <result column="fec_hora_fin" jdbcType="TIMESTAMP" property="fecHoraFin" />
    <result column="descripcion" jdbcType="VARCHAR" property="descripcion" />
    <result column="severidad" jdbcType="VARCHAR" property="severidad" />
    <result column="calle" jdbcType="VARCHAR" property="calle" />
    <result column="tipo_direccion" jdbcType="INTEGER" property="tipoDireccion" />
    <result column="direccion_final" jdbcType="VARCHAR" property="direccionFinal" />
    <result column="nombre_calle_inicio" jdbcType="VARCHAR" property="nombreCalleInicio" />
    <result column="nombre_calle_fin" jdbcType="VARCHAR" property="nombreCalleFin" />
    <result column="fec_registra" jdbcType="TIMESTAMP" property="fecRegistra" />
    <result column="fec_modifica" jdbcType="TIMESTAMP" property="fecModifica" />
    <result column="des_usu_registra" jdbcType="VARCHAR" property="desUsuRegistra" />
    <result column="des_usu_modifica" jdbcType="VARCHAR" property="desUsuModifica" />
    <result column="des_ip_registra" jdbcType="VARCHAR" property="desIpRegistra" />
    <result column="des_ip_modifica" jdbcType="VARCHAR" property="desIpModifica" />
    <result column="id_tipo_via" jdbcType="INTEGER" property="idTipoVia" />
    <result column="cuadra_evento" jdbcType="INTEGER" property="cuadraEvento" />
    <result column="id_via" jdbcType="INTEGER" property="idVia" />
    <result column="id_caso_voxiva" jdbcType="INTEGER" property="idCasoVoxiva" />
    <result column="tipo_caso_voxiva" jdbcType="INTEGER" property="tipoCasoVoxiva" />
    <result column="sub_tipo_caso_voxiva" jdbcType="INTEGER" property="subTipoCasoVoxiva" />
    <result column="tipo_incidencia" jdbcType="INTEGER" property="tipoIncidencia" />
    <result column="id_via_catastro" jdbcType="INTEGER" property="idViaCatastro" />
    <result column="id_tipo_via_catastro" jdbcType="INTEGER" property="idTipoViaCatastro" />
    <result column="nombre_tipo_evento" jdbcType="VARCHAR" property="nombreTipoEvento" />
    <result column="des_tipo_incidencia" jdbcType="VARCHAR" property="desTipoIncidencia" />
    <result column="estado" jdbcType="VARCHAR" property="estado" />
    <result column="tipo_cierre" jdbcType="VARCHAR" property="tipoCierre" />
    <result column="acciones_incidencia" jdbcType="VARCHAR" property="accionesIncidencia" />
    <result column="des_callles" jdbcType="VARCHAR" property="desCallles" />
    <result column="medio_ingreso" jdbcType="INTEGER" property="medioIngreso" />
    
    <result column="des_medio_ingreso" jdbcType="VARCHAR" property="desMedioIngreso" />
    <result column="des_estado_voxiva" jdbcType="VARCHAR" property="desEstadoVoxiva" />
    <result column="des_sub_estado_voxiva" jdbcType="VARCHAR" property="desSubEstadoVoxiva" />
    <result column="des_estado_calif_voxiva" jdbcType="VARCHAR" property="desEstadoCalifVoxiva" />
    <result column="importante_voxiva" jdbcType="VARCHAR" property="importanteVoxiva" />
    <result column="llamada_devuelta_voxiva" jdbcType="VARCHAR" property="llamadaDevueltaVoxiva" />
    <result column="direccion_incidencia" jdbcType="VARCHAR" property="direccionIncidencia" />
    <result column="hora_llamada_voxiva" jdbcType="VARCHAR" property="horaLlamadaVoxiva" />
     <result column="incidencia_presentada" jdbcType="VARCHAR" property="incidenciaPresentada" />
    
  </resultMap>
   
   	<select id="listarIncidenciasGenericConPaginacion" parameterType="HashMap" resultMap="BaseResultMap_PaginadoGeneric">
	
	  select * from (
	  
					select  
						a.id_incidencia, 
						a.id_evento, 
						a.tipo_evento, 
						a.sub_tipo, 
						a.fec_hora_inicio, 
						a.fec_hora_fin, 
						a.descripcion, 
					    a.severidad, 
					    a.calle, 
					    a.tipo_direccion, 
					    a.direccion_final,
					    a.acciones_incidencia,  
					    a.nombre_calle_inicio, 
					    a.nombre_calle_fin, 
				    	a.fec_registra, 
				    	a.fec_modifica, 
				    	a.estado, 
				    	a.des_usu_registra, 
				    	a.des_usu_modifica, 
				    	a.des_ip_registra, 
				    	a.des_ip_modifica, 
				    	a.id_tipo_via, 
				    	a.cuadra_evento, 
				    	a.id_via, 
				    	a.id_caso_voxiva, 
				    	a.tipo_caso_voxiva, 
				    	a.sub_tipo_caso_voxiva, 
				    	a.tipo_incidencia, 
				    	a.id_via_catastro, 
				    	a.id_tipo_via_catastro,
				    	a.tipo_cierre,
				    	a.des_callles,
				    	a.medio_ingreso,
				    	b.des_nombre as nombre_tipo_evento,
				    	c.des_nombre as des_tipo_incidencia,
				    	
				    	a.incidencia_presentada,
				    	a.hora_llamada_voxiva,
				    	d.des_nombre as des_medio_ingreso,
				    	a.des_estado_voxiva,
				    	a.des_sub_estado_voxiva, 
				    	(case when a.des_estado_calif_voxiva is null then 'CREADO' else a.des_estado_calif_voxiva end) as des_estado_calif_voxiva,
				    	a.importante_voxiva,
				    	a.llamada_devuelta_voxiva,
				    	a.direccion_incidencia
				    	
					     ,row_number()  over   (order by a.fec_registra desc)  as row_next
				    from 
				    		mapa.geo_incidencia_map a left join mapa.ctlmelecgo b on a.tipo_evento = b.ide_elemento
				    		inner join mapa.ctlmelecgo c on a.tipo_incidencia = c.ide_elemento

				    		left join mapa.ctlmelecgo d on a.medio_ingreso = d.ide_elemento
				    where
				         1=1 and a.estado='A'
				         
				       <if test="list_tipo != null">
				       		and a.tipo_incidencia in
					       <foreach close=")" collection="LIST_TIPO" index="index" item="item" open="(" separator=",">
							        #{item}
							  </foreach>
					    </if> 
				         
				        <if test="list_estado_califica != null">
					        and  (case when a.estado_calif_voxiva is null then 0 else a.estado_calif_voxiva end) in
					       <foreach close=")" collection="LIST_ESTADO_CALIFICA" index="index" item="item" open="(" separator=",">
							        #{item}
							  </foreach>
					    </if>  
					    
					    <if test="list_medios != null">
					        and  a.medio_ingreso in
					       <foreach close=")" collection="LIST_MEDIOS" index="index" item="item" open="(" separator=",">
							        #{item}
							  </foreach>
					    </if>  
					    
					    <if test="incidencia_presentada != null">
					        and upper(a.incidencia_presentada) like upper('%${incidencia_presentada}%')
					    </if> 
					    
					     <if test="hora_llamada_voxiva != null">
					        and upper(a.hora_llamada_voxiva) like upper('%${hora_llamada_voxiva}%')
					    </if> 
				         						
		)as temp where  row_next between #{START} and #{LIMIT}  
  
	</select>
	
	<select id="countListarIncidenciasGenericConPaginacion" parameterType="HashMap" resultType="java.lang.Integer">

    	select 
    			count(*)
		 from 
				    		mapa.geo_incidencia_map a left join mapa.ctlmelecgo b on a.tipo_evento = b.ide_elemento
				    		inner join mapa.ctlmelecgo c on a.tipo_incidencia = c.ide_elemento

				    		left join mapa.ctlmelecgo d on a.medio_ingreso = d.ide_elemento
				    where
				          1=1 and a.estado='A'
				         
				        <if test="list_tipo != null">
				       	
				       		and a.tipo_incidencia in
				       	
					       <foreach close=")" collection="LIST_TIPO" index="index" item="item" open="(" separator=",">
							        #{item}
							  </foreach>
					    </if> 
				         
						 <if test="list_estado_califica != null">
					        and  (case when a.estado_calif_voxiva is null then 0 else a.estado_calif_voxiva end) in
					       <foreach close=")" collection="LIST_ESTADO_CALIFICA" index="index" item="item" open="(" separator=",">
							        #{item}
							  </foreach>
					    </if>  
					    
					     <if test="list_medios != null">
					        and  a.medio_ingreso in
					       <foreach close=")" collection="LIST_MEDIOS" index="index" item="item" open="(" separator=",">
							        #{item}
							  </foreach>
					    </if>  
					    
					    <if test="incidencia_presentada != null">
					        and upper(a.incidencia_presentada) like upper('%${incidencia_presentada}%')
					    </if> 
					    
					    <if test="hora_llamada_voxiva != null">
					        and upper(a.hora_llamada_voxiva) like upper('${hora_llamada_voxiva}%')
					    </if> 
		
	</select>
   
   
   	<select id="listarIncidenciasWazeService" parameterType="HashMap" resultMap="BaseResultMap">
	   	select * from mapa.geo_incidencia_map where estado = 'A' and tipo_incidencia=8766  and visible='S' and current_timestamp between fec_hora_inicio and fec_hora_fin
	</select>
	
	
	<!-- Waze Service -->
	
	<resultMap id="incidenciaMap" type="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistro">

    <id column="id_incidencia" jdbcType="INTEGER" property="idIncidencia" />
    <result column="id_evento" jdbcType="INTEGER" property="idEvento" />
    <result column="tipo_evento" jdbcType="INTEGER" property="tipoEvento" />
    <result column="sub_tipo" jdbcType="INTEGER" property="subTipo" />
    <result column="fec_hora_inicio" jdbcType="TIMESTAMP" property="fecHoraInicio" />
    <result column="fec_hora_fin" jdbcType="TIMESTAMP" property="fecHoraFin" />
    <result column="descripcion" jdbcType="VARCHAR" property="descripcion" />
    <result column="severidad" jdbcType="VARCHAR" property="severidad" />
    <result column="calle" jdbcType="VARCHAR" property="calle" />
    <result column="tipo_direccion" jdbcType="INTEGER" property="tipoDireccion" />
    <result column="direccion_final" jdbcType="VARCHAR" property="direccionFinal" />
    <result column="nombre_calle_inicio" jdbcType="VARCHAR" property="nombreCalleInicio" />
    <result column="nombre_calle_fin" jdbcType="VARCHAR" property="nombreCalleFin" />
    <result column="fec_registra" jdbcType="TIMESTAMP" property="fecRegistra" />
    <result column="fec_modifica" jdbcType="TIMESTAMP" property="fecModifica" />
    <result column="des_usu_registra" jdbcType="VARCHAR" property="desUsuRegistra" />
    <result column="des_usu_modifica" jdbcType="VARCHAR" property="desUsuModifica" />
    <result column="des_ip_registra" jdbcType="VARCHAR" property="desIpRegistra" />
    <result column="des_ip_modifica" jdbcType="VARCHAR" property="desIpModifica" />
    <result column="id_tipo_via" jdbcType="INTEGER" property="idTipoVia" />
    <result column="cuadra_evento" jdbcType="INTEGER" property="cuadraEvento" />
    <result column="id_via" jdbcType="INTEGER" property="idVia" />
    <result column="id_caso_voxiva" jdbcType="INTEGER" property="idCasoVoxiva" />
    <result column="tipo_caso_voxiva" jdbcType="INTEGER" property="tipoCasoVoxiva" />
    <result column="sub_tipo_caso_voxiva" jdbcType="INTEGER" property="subTipoCasoVoxiva" />
    <result column="tipo_incidencia" jdbcType="INTEGER" property="tipoIncidencia" />
    <result column="id_via_catastro" jdbcType="INTEGER" property="idViaCatastro" />
    <result column="id_tipo_via_catastro" jdbcType="INTEGER" property="idTipoViaCatastro" />
    <result column="estado" jdbcType="VARCHAR" property="estado" />
    <result column="tipo_cierre" jdbcType="VARCHAR" property="tipoCierre" />
    <result column="des_callles" jdbcType="VARCHAR" property="desCallles" />
    <result column="usuario_registro" jdbcType="INTEGER" property="usuarioRegistro" />
    <result column="usuario_modifica" jdbcType="INTEGER" property="usuarioModifica" />
    <result column="visible" jdbcType="VARCHAR" property="visible" />
    <result column="id_dispositivo" jdbcType="VARCHAR" property="idDispositivo" />
    <result column="hora_llamada_voxiva" jdbcType="VARCHAR" property="horaLlamadaVoxiva" />
    <result column="nombre_reporta_incidencia" jdbcType="VARCHAR" property="nombreReportaIncidencia" />
    <result column="direccion_incidencia" jdbcType="VARCHAR" property="direccionIncidencia" />
    <result column="acciones_incidencia" jdbcType="VARCHAR" property="accionesIncidencia" />
    <result column="nombre_recepciona_incidencia" jdbcType="VARCHAR" property="nombreRecepcionaIncidencia" />
    <result column="dni_recepciona_incidencia" jdbcType="VARCHAR" property="dniRecepcionaIncidencia" />
    <result column="nro_caso_voxiva" jdbcType="VARCHAR" property="nroCasoVoxiva" />
    <result column="telef_reporta_incidencia" jdbcType="VARCHAR" property="telefReportaIncidencia" />
    <result column="incidencia_presentada" jdbcType="VARCHAR" property="incidenciaPresentada" />
    <result column="medio_ingreso" jdbcType="INTEGER" property="medioIngreso" />
    <result column="estado_calif_voxiva" jdbcType="VARCHAR" property="estadoCalifVoxiva" />
    <result column="estado_voxiva" jdbcType="VARCHAR" property="estadoVoxiva" />
    <result column="des_estado_voxiva" jdbcType="VARCHAR" property="desEstadoVoxiva" />
    <result column="sub_estado_voxiva" jdbcType="VARCHAR" property="subEstadoVoxiva" />
    <result column="des_sub_estado_voxiva" jdbcType="VARCHAR" property="desSubEstadoVoxiva" />
    <result column="des_estado_calif_voxiva" jdbcType="VARCHAR" property="desEstadoCalifVoxiva" />
    <result column="unid_interv_voxiva" jdbcType="VARCHAR" property="unidIntervVoxiva" />
    <result column="des_unid_interv_voxiva" jdbcType="VARCHAR" property="desUnidIntervVoxiva" />
    <result column="importante_voxiva" jdbcType="VARCHAR" property="importanteVoxiva" />
    <result column="llamada_devuelta_voxiva" jdbcType="VARCHAR" property="llamadaDevueltaVoxiva" />
    <result column="fecha_hora_atencion_voxiva" jdbcType="VARCHAR" property="fechaHoraAtencionVoxiva" />
    <result column="ind_leido" jdbcType="VARCHAR" property="indLeido" />

     <collection property="lineas" column="id_incidencia" ofType="pe.gob.miraflores.mobile.domain.mapaincidencias.GeometriaLinea" javaType="ArrayList" resultMap="lineasMap"/>
     
     <collection property="dias" column="id_incidencia" ofType="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciaSchedule" javaType="ArrayList" resultMap="diasMap"/>

    </resultMap>
	
	
	 <resultMap id="lineasMap" type="pe.gob.miraflores.mobile.domain.mapaincidencias.GeometriaLinea">

        <id column="id_linea" property="idLinea" jdbcType="INTEGER" />
	    <result column="point_ini" property="pointIni" jdbcType="VARCHAR" />
	    <result column="point_fin" property="pointFin" jdbcType="VARCHAR" />
	    <result column="des_calle" property="desCalle" jdbcType="VARCHAR" />
	    <result column="intercepcion_1" property="intercepcion1" jdbcType="VARCHAR" />
	    <result column="intercepcion_2" property="intercepcion2" jdbcType="VARCHAR" />
	    <result column="id_incidencia" property="idIncidencia" jdbcType="INTEGER" />
	    <result column="dir_cardinal" property="dirCardinal" jdbcType="VARCHAR" />

     </resultMap>
     
      <resultMap id="diasMap" type="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciaSchedule">

        <id column="id" jdbcType="INTEGER" property="id" />
	    <result column="id_incidencia" jdbcType="INTEGER" property="idIncidencia" />
	    <result column="hora_inicio" jdbcType="VARCHAR" property="horaInicio" />
	    <result column="hora_fin" jdbcType="VARCHAR" property="horaFin" />
	    <result column="des_dia" jdbcType="VARCHAR" property="desDia" />
	    <result column="fec_registra" jdbcType="TIMESTAMP" property="fecRegistra" />
	    <result column="estado" jdbcType="VARCHAR" property="estado" />
    
     </resultMap>
     
     
     
     <select id="selectListWazeService" parameterType="HashMap" resultMap="incidenciaMap" >
     
	     select 
	     	m.*,l.*,s.*
	     from 
	     	mapa.geo_incidencia_map m
		 inner join 
		 	mapa.geo_map_inicidencia_linea l 
		 on 
		 	m.id_incidencia = l.id_incidencia
		 inner join 
		 	mapa.geo_map_inicidencia_schedule s 
		 on 
		 	m.id_incidencia = s.id_incidencia	
     	where
     		m.estado = 'A' and m.tipo_incidencia=8766  and m.visible='S' 
     		and current_timestamp <![CDATA[ <= ]]> m.fec_hora_fin
     </select>
     
     
     <!-- Voxiva list -->
     
     	<resultMap id="incidenciaMapVoxiva" type="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistro">

         	<id column="id_incidencia" jdbcType="INTEGER" property="idIncidencia" />
		    <result column="id_evento" jdbcType="INTEGER" property="idEvento" />
		    <result column="tipo_evento" jdbcType="INTEGER" property="tipoEvento" />
		    <result column="sub_tipo" jdbcType="INTEGER" property="subTipo" />
		    <result column="fec_hora_inicio" jdbcType="TIMESTAMP" property="fecHoraInicio" />
		    <result column="fec_hora_fin" jdbcType="TIMESTAMP" property="fecHoraFin" />
		    <result column="descripcion" jdbcType="VARCHAR" property="descripcion" />
		    <result column="severidad" jdbcType="VARCHAR" property="severidad" />
		    <result column="calle" jdbcType="VARCHAR" property="calle" />
		    <result column="tipo_direccion" jdbcType="INTEGER" property="tipoDireccion" />
		    <result column="direccion_final" jdbcType="VARCHAR" property="direccionFinal" />
		    <result column="nombre_calle_inicio" jdbcType="VARCHAR" property="nombreCalleInicio" />
		    <result column="nombre_calle_fin" jdbcType="VARCHAR" property="nombreCalleFin" />
		    <result column="fec_registra" jdbcType="TIMESTAMP" property="fecRegistra" />
		    <result column="fec_modifica" jdbcType="TIMESTAMP" property="fecModifica" />
		    <result column="des_usu_registra" jdbcType="VARCHAR" property="desUsuRegistra" />
		    <result column="des_usu_modifica" jdbcType="VARCHAR" property="desUsuModifica" />
		    <result column="des_ip_registra" jdbcType="VARCHAR" property="desIpRegistra" />
 		    <result column="des_ip_modifica" jdbcType="VARCHAR" property="desIpModifica" />
		    <result column="id_tipo_via" jdbcType="INTEGER" property="idTipoVia" />
		    <result column="cuadra_evento" jdbcType="INTEGER" property="cuadraEvento" />
		    <result column="id_via" jdbcType="INTEGER" property="idVia" />
		    <result column="id_caso_voxiva" jdbcType="INTEGER" property="idCasoVoxiva" />
		    <result column="tipo_caso_voxiva" jdbcType="INTEGER" property="tipoCasoVoxiva" />
		    <result column="sub_tipo_caso_voxiva" jdbcType="INTEGER" property="subTipoCasoVoxiva" />
		    <result column="tipo_incidencia" jdbcType="INTEGER" property="tipoIncidencia" />
		    <result column="id_via_catastro" jdbcType="INTEGER" property="idViaCatastro" />
		    <result column="id_tipo_via_catastro" jdbcType="INTEGER" property="idTipoViaCatastro" />
		    <result column="estado" jdbcType="VARCHAR" property="estado" />
		    <result column="tipo_cierre" jdbcType="VARCHAR" property="tipoCierre" />
		    <result column="des_callles" jdbcType="VARCHAR" property="desCallles" />
		    <result column="usuario_registro" jdbcType="INTEGER" property="usuarioRegistro" />
		    <result column="usuario_modifica" jdbcType="INTEGER" property="usuarioModifica" />
		    <result column="visible" jdbcType="VARCHAR" property="visible" />
		    <result column="id_dispositivo" jdbcType="VARCHAR" property="idDispositivo" />
		    <result column="hora_llamada_voxiva" jdbcType="VARCHAR" property="horaLlamadaVoxiva" />
		    <result column="nombre_reporta_incidencia" jdbcType="VARCHAR" property="nombreReportaIncidencia" />
		    <result column="direccion_incidencia" jdbcType="VARCHAR" property="direccionIncidencia" />
		    <result column="acciones_incidencia" jdbcType="VARCHAR" property="accionesIncidencia" />
		    <result column="nombre_recepciona_incidencia" jdbcType="VARCHAR" property="nombreRecepcionaIncidencia" />
		    <result column="dni_recepciona_incidencia" jdbcType="VARCHAR" property="dniRecepcionaIncidencia" />
		    <result column="nro_caso_voxiva" jdbcType="VARCHAR" property="nroCasoVoxiva" />
		    <result column="telef_reporta_incidencia" jdbcType="VARCHAR" property="telefReportaIncidencia" />
		    <result column="incidencia_presentada" jdbcType="VARCHAR" property="incidenciaPresentada" />
		    <result column="medio_ingreso" jdbcType="INTEGER" property="medioIngreso" />
		    <result column="estado_calif_voxiva" jdbcType="VARCHAR" property="estadoCalifVoxiva" />
		    <result column="estado_voxiva" jdbcType="VARCHAR" property="estadoVoxiva" />
		    <result column="des_estado_voxiva" jdbcType="VARCHAR" property="desEstadoVoxiva" />
		    <result column="sub_estado_voxiva" jdbcType="VARCHAR" property="subEstadoVoxiva" />
		    <result column="des_sub_estado_voxiva" jdbcType="VARCHAR" property="desSubEstadoVoxiva" />
		    <result column="des_estado_calif_voxiva" jdbcType="VARCHAR" property="desEstadoCalifVoxiva" />
		    <result column="unid_interv_voxiva" jdbcType="VARCHAR" property="unidIntervVoxiva" />
		    <result column="des_unid_interv_voxiva" jdbcType="VARCHAR" property="desUnidIntervVoxiva" />
		    <result column="importante_voxiva" jdbcType="VARCHAR" property="importanteVoxiva" />
		    <result column="llamada_devuelta_voxiva" jdbcType="VARCHAR" property="llamadaDevueltaVoxiva" />
		    <result column="fecha_hora_atencion_voxiva" jdbcType="VARCHAR" property="fechaHoraAtencionVoxiva" />
		    <result column="ind_leido" jdbcType="VARCHAR" property="indLeido" />
			
			<result column="cod_unidad" jdbcType="INTEGER" property="codUnidad" />
			<result column="cod_caso" jdbcType="INTEGER" property="codCaso" />
			<result column="cod_subcaso" jdbcType="INTEGER" property="codSubcaso" />
			<result column="descripcion2" jdbcType="VARCHAR" property="descripcion2" />
	
    <association property="geometria" resultMap="geometriaVoxivaBaseResultMap"/>

    </resultMap>
    
    
     <resultMap id="geometriaVoxivaBaseResultMap" type="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasGeometria" >
	    <id column="idgeoreferencia" property="idgeoreferencia" jdbcType="INTEGER" />
	    <result column="idetipogeometria" property="idetipogeometria" jdbcType="INTEGER" />
	    <result column="geometria" property="geometria" jdbcType="VARCHAR" />
	    <result column="idecodvalor" property="idecodvalor" jdbcType="INTEGER" />
	    <result column="idecodident" property="idecodident" jdbcType="INTEGER" />
	    <result column="indestado" property="indestado" jdbcType="INTEGER" />
	    <result column="desdireccion" property="desdireccion" jdbcType="VARCHAR" />
	    <result column="orden" property="orden" jdbcType="INTEGER" />
	  </resultMap>
    

     <!-- PARA LISTAR LOS MARKERS DE ALERTA MIRAFLORES ???? POR CONFIRMAR -->
      <select id="selectVoxivaListMap" parameterType="HashMap" resultMap="incidenciaMapVoxiva" >
     
	      select 
	      		i.*,g.* 
	      from 
	      		mapa.geo_incidencia_map i
		  inner join 
		  		mapa.geomgeometria g on (i.id_incidencia = g.idecodvalor and g.idecodident = 8750 )
		 
		 where 
		  		i.tipo_incidencia = 8765 and i.estado = 'A' and i.visible = 'S' 
		  		and (case when i.estado_calif_voxiva is null then '0' 
		  					else i.estado_calif_voxiva end) not in ('2','3','4','5') 
		  		and g.geometria is not null 
		  		and id_caso_voxiva is not null
		  		<!-- and i.id_incidencia>=16213 -->
		  
		  <if test="id_incidencia != null">
				and i.id_incidencia = #{id_incidencia}
		  </if> 			
		

     </select>
     
     
     
     <!-- insertar nueva incidencia -->
    <!-- REVISAR ESTE PROCEDIMIENTO, YA NO SE USA --> 
<!--    <insert id="insertIncidenciaSelective" parameterType="pe.gob.miraflores.mobile.mapaincidencias.domain.Incidencia">
    
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 10 12:32:50 COT 2016.
   
    
    <selectKey keyProperty="codIncidencia" resultType="int" order="BEFORE" >
		select (case when max(cod_incidencia) is null then 1 else max(cod_incidencia)+1 end) as value from mapa.incidencia  
	</selectKey>
	
    insert into mapa.geo_incidencia_map
    <trim prefix="(" suffix=")" suffixOverrides=",">
      
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      
    </trim>
  </insert> -->
     
     
  <!--    <resultMap id="BaseResultMap" type="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistro">
     
     </resultMap> -->
     
     <resultMap id="BandejaResultMap" type="hashmap">

	    <id column="i_cod_incidencia" jdbcType="INTEGER" property="codIncidencia" />
		<result column="i_cod_unidad" jdbcType="INTEGER" property="codUnidad" />
		<result column="i_cod_caso" jdbcType="INTEGER" property="codCaso" />
		<result column="i_cod_subcaso" jdbcType="INTEGER" property="codSubcaso" />
		<result column="i_cod_medio" jdbcType="INTEGER" property="codMedio" />
		<result column="i_cod_situacion" jdbcType="INTEGER" property="codSituacion" />
		<result column="i_nomb_report" jdbcType="VARCHAR" property="nombReport" />
		<result column="i_telf_report" jdbcType="VARCHAR" property="telfReport" />
		<result column="i_cod_geometria" jdbcType="INTEGER" property="codGeometria" />
		<result column="i_coordenadas" jdbcType="VARCHAR" property="coordenadas" />
		<result column="i_direccion" jdbcType="VARCHAR" property="direccion" />
		<result column="i_cdra" jdbcType="INTEGER" property="cdra" />
		<result column="i_dpto" jdbcType="VARCHAR" property="dpto" />
		<result column="i_zona" jdbcType="VARCHAR" property="zona" />
		<result column="i_subzona" jdbcType="VARCHAR" property="subzona" />
		<result column="i_descripcion" jdbcType="VARCHAR" property="descripcion" />
		<result column="i_fec_evento" jdbcType="DATE" property="fecEvento" />
		<result column="i_hor_evento" jdbcType="VARCHAR" property="horEvento" />
		<result column="i_fec_atencion" jdbcType="DATE" property="fecAtencion" />
		<result column="i_hor_atencion" jdbcType="VARCHAR" property="horAtencion" />
		<result column="i_cod_severidad" jdbcType="INTEGER" property="codSeveridad" />
		<result column="i_cod_estado" jdbcType="INTEGER" property="codEstado" />
		<result column="i_cod_subestado" jdbcType="INTEGER" property="codSubestado" />
		<result column="i_cod_modalidad" jdbcType="INTEGER" property="codModalidad" />
		<result column="i_motivo" jdbcType="VARCHAR" property="motivo" />
		<result column="i_tpo_hallazgo" jdbcType="INTEGER" property="tpoHallazgo" />
		<result column="i_desc_sospechoso" jdbcType="VARCHAR" property="descSospechoso" />
		<result column="i_est_reg" jdbcType="VARCHAR" property="estReg" />
		<result column="i_fec_creacion" jdbcType="TIMESTAMP" property="fecCreacion" />
		<result column="i_fec_cierre" jdbcType="TIMESTAMP" property="fecCierre" />
		<result column="u_desc_unidad" jdbcType="VARCHAR" property="descUnidad" />
		<result column="c_desc_caso" jdbcType="VARCHAR" property="descCaso" />
		<result column="s_desc_subcaso" jdbcType="VARCHAR" property="descSubcaso" />
		<result column="t1_desc_medio" jdbcType="VARCHAR" property="descMedio" />
		<result column="t2_desc_situacion" jdbcType="VARCHAR" property="descSituacion" />

  </resultMap>
     
     <select id="selectBandejaIncidencias2" resultMap="BandejaResultMap">
     
     	select
					i.id_incidencia as i_cod_incidencia, 
					i.cod_unidad as i_cod_unidad, 
					i.cod_caso as i_cod_caso, 
					i.cod_subcaso as i_cod_subcaso, 
					i.cod_medio as i_cod_medio, 
					i.cod_situacion as i_cod_situacion, 
					i.nomb_report as i_nomb_report, 
					i.telf_report as i_telf_report, 
					i.cod_geometria as i_cod_geometria, 
					i.coordenadas as i_coordenadas, 
					i.direccion as i_direccion, 
					i.cdra as i_cdra, 
					i.dpto as i_dpto, 
					i.zona as i_zona, 
					i.subzona as i_subzona, 
					i.descripcion as i_descripcion, 
					i.fec_evento as i_fec_evento, 
					i.hor_evento as i_hor_evento, 
					i.fec_atencion as i_fec_atencion, 
					i.hor_atencion as i_hor_atencion, 
					i.cod_severidad as i_cod_severidad, 
					i.cod_estado as i_cod_estado, 
					i.cod_subestado as i_cod_subestado, 
					i.cod_modalidad as i_cod_modalidad, 
					i.motivo as i_motivo, 
					i.tpo_hallazgo as i_tpo_hallazgo, 
					i.desc_sospechoso as i_desc_sospechoso, 
					i.est_reg as i_est_reg, 
					i.fec_creacion as i_fec_creacion, 
					i.fec_cierre as i_fec_cierre, 
					(case when i.cod_unidad is null then '' else u.desc_unidad end) as u_desc_unidad, 
					(case when i.cod_caso is null then '' else c.desc_caso end) as c_desc_caso, 
					(case when i.cod_subcaso is null then '' else s.desc_subcaso end) as s_desc_subcaso, 
					(case when i.cod_medio is null then '' else t1.desc_tipo end) as t1_desc_medio, 
					(case when i.cod_situacion is null then '' else t2.desc_tipo end) as t2_desc_situacion
		from mapa.geo_incidencia_map i
			left join mapa.geo_map_unidad u on u.cod_unidad=i.cod_unidad
			left join mapa.geo_map_caso c on c.cod_caso=i.cod_caso
			left join mapa.geo_map_subcaso s on s.cod_subcaso=i.cod_subcaso
			left join mapa.geo_map_maestro_tipo t1 on t1.cod_tipo=i.cod_medio
			left join mapa.geo_map_maestro_tipo t2 on t2.cod_tipo=i.cod_situacion
		<!-- where i.est_reg='A' -->
		order by 1 desc
     
  </select>
  
	

	<select id="getId" resultType="java.lang.Long">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 03 12:30:06 COT 2017.
    -->
    select max(id_incidencia) from mapa.geo_incidencia_map
    
  </select>
  
</mapper>